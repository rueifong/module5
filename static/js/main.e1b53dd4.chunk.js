(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{210:function(e,t,a){},320:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(55),i=a.n(r),s=(a(210),a(3)),l=a(11),o=a(4),d=(a(211),a(43)),u=a(85),j=a(50),b=function(e){for(var t=[],a=[],n=0;n<e.length;n++)t.push(e[n].splice(0,1)[0]),a.push(e[n]);return{categoryData:t,values:a}}([["2013/1/24",2320.26,2320.26,2287.3,2362.94],["2013/1/25",2300,2291.3,2288.26,2308.38],["2013/1/28",2295.35,2346.5,2295.35,2346.92],["2013/1/29",2347.22,2358.98,2337.35,2363.8],["2013/1/30",2360.75,2382.48,2347.89,2383.76],["2013/1/31",2383.43,2385.42,2371.23,2391.82],["2013/2/1",2377.41,2419.02,2369.57,2421.15],["2013/2/4",2425.92,2428.15,2417.58,2440.38],["2013/2/5",2411,2433.13,2403.3,2437.42],["2013/2/6",2432.68,2434.48,2427.7,2441.73],["2013/2/7",2430.69,2418.53,2394.22,2433.89],["2013/2/8",2416.62,2432.4,2414.4,2443.03],["2013/2/18",2441.91,2421.56,2415.43,2444.8],["2013/2/19",2420.26,2382.91,2373.53,2427.07],["2013/2/20",2383.49,2397.18,2370.61,2397.94],["2013/2/21",2378.82,2325.95,2309.17,2378.82],["2013/2/22",2322.94,2314.16,2308.76,2330.88],["2013/2/25",2320.62,2325.82,2315.01,2338.78],["2013/2/26",2313.74,2293.34,2289.89,2340.71],["2013/2/27",2297.77,2313.22,2292.03,2324.63],["2013/2/28",2322.32,2365.59,2308.92,2366.16],["2013/3/1",2364.54,2359.51,2330.86,2369.65],["2013/3/4",2332.08,2273.4,2259.25,2333.54],["2013/3/5",2274.81,2326.31,2270.1,2328.14],["2013/3/6",2333.61,2347.18,2321.6,2351.44],["2013/3/7",2340.44,2324.29,2304.27,2352.02],["2013/3/8",2326.42,2318.61,2314.59,2333.67],["2013/3/11",2314.68,2310.59,2296.58,2320.96],["2013/3/12",2309.16,2286.6,2264.83,2333.29],["2013/3/13",2282.17,2263.97,2253.25,2286.33],["2013/3/14",2255.77,2270.28,2253.31,2276.22],["2013/3/15",2269.31,2278.4,2250,2312.08],["2013/3/18",2267.29,2240.02,2239.21,2276.05],["2013/3/19",2244.26,2257.43,2232.02,2261.31],["2013/3/20",2257.74,2317.37,2257.42,2317.86],["2013/3/21",2318.21,2324.24,2311.6,2330.81],["2013/3/22",2321.4,2328.28,2314.97,2332],["2013/3/25",2334.74,2326.72,2319.91,2344.89],["2013/3/26",2318.58,2297.67,2281.12,2319.99],["2013/3/27",2299.38,2301.26,2289,2323.48],["2013/3/28",2273.55,2236.3,2232.91,2273.55],["2013/3/29",2238.49,2236.62,2228.81,2246.87],["2013/4/1",2229.46,2234.4,2227.31,2243.95],["2013/4/2",2234.9,2227.74,2220.44,2253.42],["2013/4/3",2232.69,2225.29,2217.25,2241.34],["2013/4/8",2196.24,2211.59,2180.67,2212.59],["2013/4/9",2215.47,2225.77,2215.47,2234.73],["2013/4/10",2224.93,2226.13,2212.56,2233.04],["2013/4/11",2236.98,2219.55,2217.26,2242.48],["2013/4/12",2218.09,2206.78,2204.44,2226.26],["2013/4/15",2199.91,2181.94,2177.39,2204.99],["2013/4/16",2169.63,2194.85,2165.78,2196.43],["2013/4/17",2195.03,2193.8,2178.47,2197.51],["2013/4/18",2181.82,2197.6,2175.44,2206.03],["2013/4/19",2201.12,2244.64,2200.58,2250.11],["2013/4/22",2236.4,2242.17,2232.26,2245.12],["2013/4/23",2242.62,2184.54,2182.81,2242.62],["2013/4/24",2187.35,2218.32,2184.11,2226.12],["2013/4/25",2213.19,2199.31,2191.85,2224.63],["2013/4/26",2203.89,2177.91,2173.86,2210.58],["2013/5/2",2170.78,2174.12,2161.14,2179.65],["2013/5/3",2179.05,2205.5,2179.05,2222.81],["2013/5/6",2212.5,2231.17,2212.5,2236.07],["2013/5/7",2227.86,2235.57,2219.44,2240.26],["2013/5/8",2242.39,2246.3,2235.42,2255.21],["2013/5/9",2246.96,2232.97,2221.38,2247.86],["2013/5/10",2228.82,2246.83,2225.81,2247.67],["2013/5/13",2247.68,2241.92,2231.36,2250.85],["2013/5/14",2238.9,2217.01,2205.87,2239.93],["2013/5/15",2217.09,2224.8,2213.58,2225.19],["2013/5/16",2221.34,2251.81,2210.77,2252.87],["2013/5/17",2249.81,2282.87,2248.41,2288.09],["2013/5/20",2286.33,2299.99,2281.9,2309.39],["2013/5/21",2297.11,2305.11,2290.12,2305.3],["2013/5/22",2303.75,2302.4,2292.43,2314.18],["2013/5/23",2293.81,2275.67,2274.1,2304.95],["2013/5/24",2281.45,2288.53,2270.25,2292.59],["2013/5/27",2286.66,2293.08,2283.94,2301.7],["2013/5/28",2293.4,2321.32,2281.47,2322.1],["2013/5/29",2323.54,2324.02,2321.17,2334.33],["2013/5/30",2316.25,2317.75,2310.49,2325.72],["2013/5/31",2320.74,2300.59,2299.37,2325.53],["2013/6/3",2300.21,2299.25,2294.11,2313.43],["2013/6/4",2297.1,2272.42,2264.76,2297.1],["2013/6/5",2270.71,2270.93,2260.87,2276.86],["2013/6/6",2264.43,2242.11,2240.07,2266.69],["2013/6/7",2242.26,2210.9,2205.07,2250.63],["2013/6/13",2190.1,2148.35,2126.22,2190.1]]);var h=a(2);function m(e){for(var t=[],a=0,n=b.values.length;a<n;a++)if(a<e)t.push("-");else{for(var c=0,r=0;r<e;r++)c+=b.values[a-r][1];t.push(c/e)}return t}var O={tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:["\u65e5K","MA5","MA10","MA20","MA30"]},grid:{left:"10%",right:"10%",bottom:"15%"},xAxis:{type:"category",data:b.categoryData,scale:!0,boundaryGap:!1,axisLine:{onZero:!1},splitLine:{show:!1},splitNumber:20,min:"dataMin",max:"dataMax"},yAxis:{scale:!0,splitArea:{show:!0}},dataZoom:[{type:"inside",start:50,end:100},{show:!0,type:"slider",top:"90%",start:50,end:100}],series:[{name:"\u65e5K",type:"candlestick",data:b.values,itemStyle:{color:"#ec0000",color0:"#00da3c",borderColor:"#8A0000",borderColor0:"#008F28"},markPoint:{label:{normal:{formatter:function(e){return null!=e?Math.round(e.value):""}}},data:[{name:"XX\u6a19\u9ede",coord:["2013/5/31",2300],value:2300,itemStyle:{color:"rgb(41,60,85)"}},{name:"highest value",type:"max",valueDim:"highest"},{name:"lowest value",type:"min",valueDim:"lowest"},{name:"average value on close",type:"average",valueDim:"close"}],tooltip:{formatter:function(e){return e.name+"<br>"+(e.data.coord||"")}}},markLine:{symbol:["none","none"],data:[[{name:"from lowest to highest",type:"min",valueDim:"lowest",symbol:"circle",symbolSize:10,label:{show:!1},emphasis:{label:{show:!1}}},{type:"max",valueDim:"highest",symbol:"circle",symbolSize:10,label:{show:!1},emphasis:{label:{show:!1}}}],{name:"min line on close",type:"min",valueDim:"close"},{name:"max line on close",type:"max",valueDim:"close"}]}},{name:"MA5",type:"line",data:m(5),smooth:!0,lineStyle:{opacity:.5}},{name:"MA10",type:"line",data:m(10),smooth:!0,lineStyle:{opacity:.5}},{name:"MA20",type:"line",data:m(20),smooth:!0,lineStyle:{opacity:.5}},{name:"MA30",type:"line",data:m(30),smooth:!0,lineStyle:{opacity:.5}}]},p=function(){return Object(h.jsx)(j.a,{option:O})},f=function(e){var t=e.originData,a=void 0===t?{}:t,c=Object(n.useState)(20),r=Object(o.a)(c,2),i=r[0],s=r[1],l=Object(n.useState)({}),d=Object(o.a)(l,2),u=d[0],b=d[1],m=Object(n.useState)(0),O=Object(o.a)(m,2);O[0],O[1];Object(n.useEffect)((function(){var e;if(b(a),null!==u&&void 0!==u&&null!==(e=u.series)&&void 0!==e&&e.length){var t=10;u.series.forEach((function(e){Math.abs(e)>t&&(t=Math.abs(e)+10)})),s(t)}}),[a]);var p={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){return"string"===typeof e[0].data?"":"Price: "+e[0].name+"<br/>"+e[0].seriesName+" : "+Math.abs(e[0].data)}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:u.xAxis}],yAxis:[{type:"value",splitNumber:10,max:i,min:-i,axisLabel:{formatter:function(e){return Math.abs(e)}}}],series:[{name:"\u59d4\u8a17\u91cf",type:"bar",data:u.series,itemStyle:{color:function(e){return e.data>0?"green":"red"}}}]};return Object(h.jsx)(j.a,{option:p})},x=a(32),y=a.n(x),g=function(e){var t=e.data,a=void 0===t?{xAxis:[],yAxis:[]}:t;console.log("data",a);var c=Object(n.useState)(10),r=Object(o.a)(c,2),i=(r[0],r[1],Object(n.useState)(4)),s=Object(o.a)(i,2),l=(s[0],s[1],{tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#283b56"}}},grid:{left:"3%",right:"4%",containLabel:!0},legend:{data:["\u6210\u4ea4\u91cf"]},xAxis:[{type:"category",boundaryGap:!0,data:a.xAxis,axisLabel:{interval:100,align:"center",formatter:function(e,t){return Number(e).toFixed(1)}},axisTick:{show:!0,alignWithLabel:!0,interval:100,inside:!0}}],yAxis:[{type:"value"}],series:[{name:"\u6210\u4ea4\u50f9",type:"line",data:a.yAxis,endLabel:{show:!0,borderColor:"red",borderWidth:"3px",width:"3px",height:"3px",backgroundColor:"red"},markPoint:{animation:!1,symbol:"circle",data:[{xAxis:a.yAxis.length>0?a.yAxis.length-1:0,yAxis:a.yAxis.length>0?a.yAxis[a.yAxis.length-1]:0,symbolSize:6,itemStyle:{opacity:1,color:"#ff4d4f"}}]}}]});return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(j.a,{className:"border",option:l})})},k=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(p,{}),Object(h.jsx)(f,{data:{100:15,102:11,108:23,109:2,111:12}}),Object(h.jsx)(g,{})]})},S=(a(336),a(331)),_=a(198),T=a(54),C=a(189);var w=a.n(C).a.create({baseURL:"http://140.118.118.173:20023/"});w.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers.token||(e.headers.token=t),e}));var D={login:{url:"api/investor/login",method:"POST"},logout:{url:"api/investor/logout",method:"POST"},getOrder:{url:"api/order",method:"GET"},postOrder:{url:"api/order",method:"POST"},deleteOrder:{url:"api/order",method:"DELETE"},getDisplay:{url:"api/display",method:"GET"},getDisplayChart:{url:"api/display/chart",method:"GET"},getTransaction:{url:"api/transaction",method:"GET"},getStock:{url:"api/stock",method:"GET"},postStock:{url:"api/stock",method:"POST"},putStock:{url:"api/stock",method:"PUT"},deleteStock:{url:"api/stock",method:"DELETE"},resetStock:{url:"api/stock/reset",method:"PUT"},getVirtualOrder:{url:"api/virtualOrder",method:"GET"},postVirtualOrder:{url:"api/virtualOrder",method:"POST"},resetVirtualOrder:{url:"api/virtualOrder",method:"PUT"},getVirtualOrderContainer:{url:"api/virtualOrder/container",method:"GET"},getContainer:{url:"api/virtualOrder/container",method:"GET"},postContainer:{url:"api/virtualOrder/container",method:"POST"},putContainer:{url:"api/virtualOrder/container",method:"PUT"},deleteContainer:{url:"api/virtualOrder/container",method:"DELETE"},getGroup:{url:"api/group",method:"GET"},getAvailableStock:{url:"api/available/stock",method:"GET"},getAvailableFutures:{url:"api/available/futures",method:"GET"},getRealDataStockOrder:{url:"api/real-data/stock/order",method:"GET"},postRealDataStockOrder:{url:"api/real-data/stock/order",method:"POST"},putRealDataStockOrder:{url:"api/real-data/stock/order",method:"PUT"},deleteRealDataStockOrder:{url:"api/real-data/stock/order",method:"DELETE"},getRealDataStockOrderContent:{url:"api/real-data/stock/order/content",method:"GET"},postRealDataStockOrderContent:{url:"api/real-data/stock/order/content",method:"POST"},getRealDataStockTransaction:{url:"api/real-data/stock/transaction",method:"GET"},postRealDataStockTransaction:{url:"api/real-data/stock/transaction",method:"POST"},putRealDataStockTransaction:{url:"api/real-data/stock/transaction",method:"PUT"},deleteRealDataStockTransaction:{url:"api/real-data/stock/transaction",method:"DELETE"},getRealDataStockTransactionContent:{url:"api/real-data/stock/transaction/content",method:"GET"},postRealDataStockTransactionContent:{url:"api/real-data/stock/transaction/content",method:"POST"},getRealDataStockDisplay:{url:"api/real-data/stock/display",method:"GET"},postRealDataStockDisplay:{url:"api/real-data/stock/display",method:"POST"},putRealDataStockDisplay:{url:"api/real-data/stock/display",method:"PUT"},deleteRealDataStockDisplay:{url:"api/real-data/stock/display",method:"DELETE"},getRealDataStockDisplayContent:{url:"api/real-data/stock/display/content",method:"GET"},postRealDataStockDisplayContent:{url:"api/real-data/stock/display/content",method:"POST"},getRealDataFuturesOrder:{url:"api/real-data/futures/order",method:"GET"},postRealDataFuturesOrder:{url:"api/real-data/futures/order",method:"POST"},putRealDataFuturesOrder:{url:"api/real-data/futures/order",method:"PUT"},deleteRealDataFuturesOrder:{url:"api/real-data/futures/order",method:"DELETE"},getRealDataFuturesOrderContent:{url:"api/real-data/futures/order/content",method:"GET"},postRealDataFuturesOrderContent:{url:"api/real-data/futures/order/content",method:"POST"},getRealDataFuturesTransaction:{url:"api/real-data/futures/transaction",method:"GET"},postRealDataFuturesTransaction:{url:"api/real-data/futures/transaction",method:"POST"},putRealDataFuturesTransaction:{url:"api/real-data/futures/transaction",method:"PUT"},deleteRealDataFuturesTransaction:{url:"api/real-data/futures/transaction",method:"DELETE"},getRealDataFuturesTransactionContent:{url:"api/real-data/futures/transaction/content",method:"GET"},postRealDataFuturesTransactionContent:{url:"api/real-data/futures/transaction/content",method:"POST"},getRealDataFuturesDisplay:{url:"api/real-data/futures/display",method:"GET"},postRealDataFuturesDisplay:{url:"api/real-data/futures/display",method:"POST"},putRealDataFuturesDisplay:{url:"api/real-data/futures/display",method:"PUT"},deleteRealDataFuturesDisplay:{url:"api/real-data/futures/display",method:"DELETE"},getRealDataFuturesDisplayContent:{url:"api/real-data/futures/display/content",method:"GET"},postRealDataFuturesDisplayContent:{url:"api/real-data/futures/display/content",method:"POST"},getRole:{url:"api/rbac/role",method:"GET"},postRole:{url:"api/rbac/role",method:"POST"},putRole:{url:"api/rbac/role",method:"PUT"},deleteRole:{url:"api/rbac/role",method:"DELETE"},getRolePermission:{url:"api/rbac/permission",method:"GET"},getInvestor:{url:"api/investor",method:"GET"},postInvestor:{url:"api/investor",method:"POST"},putInvestor:{url:"api/investor",method:"PUT"},deleteInvestor:{url:"api/investor",method:"DELETE"}},I=a(202);var A=function(e){401===(null===e||void 0===e?void 0:e.statusCode)&&ft.emit("unauthorization"),I.a.open({type:"error",message:null===e||void 0===e?void 0:e.statusCode,description:null===e||void 0===e?void 0:e.message,duration:3})},R=a(335),M=a(332),N=a(330),E=a(333),B=a(123),F=B.a.Option,P=function(e){var t=e.style,a=e.mode,c=e.onChange,r=(e.isRealData,e.onEnd),i=Object(n.useState)(),l=Object(o.a)(i,2),d=l[0],u=l[1],j=Object(n.useState)(),b=Object(o.a)(j,2);b[0],b[1];return Object(h.jsx)(B.a,{style:Object(s.a)({},t),onChange:function(e){u(e),c&&c(e)},mode:a,value:d,placeholder:"\u9078\u64c7\u80a1\u7968",showSearch:!0,onDropdownVisibleChange:function(e){!1===e&&r&&r()},children:[{id:"2330"}].map((function(e){return Object(h.jsx)(F,{value:e.id,children:e.id},Math.random())}))})},z=function(e){var t=e.data,a=void 0===t?{}:t,c=Object(n.useState)("all"),r=Object(o.a)(c,2),i=r[0],s=r[1];return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"flex justify-around my-6 items-center",children:Object(h.jsxs)("div",{children:["\u5716\u8868\u6a21\u5f0f",Object(h.jsx)(B.a,{value:i,style:{width:120,marginLeft:"20px"},onChange:function(e){s(e)},options:[{label:"\u5168\u90e8",value:"all"},{label:"\u8cb7\u8ce3\u4e94\u6a94",value:"allfive"},{label:"\u8cb7\u4e94\u6a94",value:"buyfive"},{label:"\u8ce3\u4e94\u6a94",value:"sellfive"}]})]})}),Object(h.jsx)(f,{originData:a,showType:i})]})},L=z,Y=function(e){var t=e.originData,a=void 0===t?{xAxis:[],yAxis:[]}:t,c=Object(n.useState)({}),r=Object(o.a)(c,2),i=r[0],s=r[1];Object(n.useRef)(null);Object(n.useEffect)((function(){s(a)}));var l={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#283b56"}}},grid:{left:"3%",right:"4%",containLabel:!0},legend:{data:["\u6210\u4ea4\u91cf"]},xAxis:[{type:"category",boundaryGap:!0,data:i.xAxis,axisLabel:{formatter:function(e,t){return Number(e).toFixed(2)}}}],yAxis:[{type:"value",scale:!0,name:"\u6210\u4ea4\u50f9"}],series:[{name:"\u6210\u4ea4\u50f92",type:"line",data:i.yAxis}]};return Object(h.jsx)(h.Fragment,{children:Object(n.useMemo)((function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(j.a,{option:l})})}),[i,l,a])})},q=function(e){var t=e.data,a=void 0===t?{}:t,c=Object(n.useState)("all"),r=Object(o.a)(c,2);r[0],r[1];return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(Y,{originData:a})})},V=q;function G(e){var t=Object.entries(e).sort((function(e,t){return Object(o.a)(e,2)[1]-Object(o.a)(t,2)[1]})),a=Object(o.a)(t,1)[0];return[a[0],a[1]]}function Q(e,t,a){return 0===t[1]?(e.up+=1,e.total+=1):0===t[0]&&(e.down+=1,e.total+=1),[{up:e.up,down:e.down,total:e.total},a]}var U=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=[],r=e.returnData,i=(e.current_tab,e.default_alpha_B,e.default_alpha_A,e.default_lambda_B),s=(e.default_lambda_B_K,e.default_lambda_A),l=(e.default_lambda_A_K,e.R_B,e.R_A,e.default_theta_B),d=(e.default_theta_B1,e.default_theta_B2,e.default_theta_B3,e.default_theta_B4,e.default_theta_B5,e.default_theta_A),u=(e.default_theta_A1,e.default_theta_A2,e.default_theta_A3,e.default_theta_A4,e.default_theta_A5,e.R_theta_B,e.R_theta_A,e.mu_B),j=e.mu_A;e.n,e.p,e.batch_size,e.s,e.max_a,e.max_b,e.gap;c.LA=-Math.log(Math.random())/s,c.CA=-Math.log(Math.random())/(d*r.series[1]),c.MA=-Math.log(Math.random())/j,c.LB=-Math.log(Math.random())/i,c.CB=-Math.log(Math.random())/(l*r.series[0]),c.MB=-Math.log(Math.random())/u;var b=G(c),h=1e3*b[1],m=b[0].substring(0,1),O=b[0].substring(1,2);console.log("=====================start=====================");var p=0;if(!t)switch(m){case"L":console.log("Limit order"),p=0==n.xAxis.length?h:n.xAxis[n.xAxis.length-1]+h,n.xAxis.push(p),"A"==O?(r.series[1]+=1,n.yAxis.push(1)):"B"==O&&(r.series[0]-=1,n.yAxis.push(0));var f=Q(r.Q1,r.series,a),x=Object(o.a)(f,2);r.Q1=x[0],a=x[1];break;case"M":console.log("Market order"),p=0==n.xAxis.length?h:n.xAxis[n.xAxis.length-1]+h,n.xAxis.push(p),"A"==O?(r.series[1]+=1,n.yAxis.push(1)):"B"==O&&(r.series[0]-=1,n.yAxis.push(0));var v=Q(r.Q1,r.series,a),y=Object(o.a)(v,2);r.Q1=y[0],a=y[1];break;case"C":console.log("Cancel order"),"A"==O&&r.series[1]>0?r.series[1]-=1:"B"==O&&r.series[0]<0&&(r.series[0]+=1);var g=Q(r.Q1,r.series,a),k=Object(o.a)(g,2);r.Q1=k[0],a=k[1]}return console.log("test3 data",r),console.log("timeData",n),[h,r,n,a]},H=M.a.Title,J=N.a.TabPane,W=function(){var e=Object(n.useState)("stop"),t=Object(o.a)(e,2),a=t[0],c=t[1],r=(Object(n.useRef)(),Object(n.useRef)(),Object(n.useState)(0)),i=Object(o.a)(r,2),l=i[0],d=i[1],u=Object(n.useState)({array_a:[],array_b:[],q1_array:[]}),j=Object(o.a)(u,2),b=(j[0],j[1],Object(n.useState)("all")),m=Object(o.a)(b,2),O=(m[0],m[1],Object(n.useState)({})),p=Object(o.a)(O,2),f=p[0],x=p[1],v=Object(n.useState)({xAxis:[],yAxis:[]}),y=Object(o.a)(v,2),g=y[0],k=y[1],S=Object(n.useState)({returnData:{xAxis:[97,98],series:[-3,2],Q1:{up:0,down:0,total:0}},current_tab:1,default_B:3,default_A:2,default_alpha_B:.52,default_alpha_A:.52,default_lambda_B:5,default_lambda_B_K:1.92,default_lambda_A:5,default_lambda_A_K:1.92,R_B:.8,R_A:.8,default_theta_B:5,default_theta_B1:.71,default_theta_B2:.81,default_theta_B3:.68,default_theta_B4:.56,default_theta_B5:.47,default_theta_A:5,default_theta_A1:.71,default_theta_A2:.81,default_theta_A3:.68,default_theta_A4:.56,default_theta_A5:.47,R_theta_B:.8,R_theta_A:.8,mu_B:.94,mu_A:.94,n:1,p:1,batch_size:1,s:1,max_a:13,max_b:11,gap:3}),_=Object(o.a)(S,2),C=_[0],w=_[1],D=Object(n.useState)({columns:[{title:"b \\ a",dataIndex:"name",key:Math.random()},{title:1,dataIndex:1,key:Math.random()},{title:4,dataIndex:4,key:Math.random()},{title:7,dataIndex:7,key:Math.random()},{title:10,dataIndex:10,key:Math.random()},{title:13,dataIndex:13,key:Math.random()}],dataSource:[{key:2,name:2},{key:5,name:5},{key:8,name:8},{key:11,name:11}]}),I=Object(o.a)(D,2);I[0],I[1];Object(n.useEffect)((function(){var e=U(C,!0,a,g),t=Object(o.a)(e,4),n=t[0],c=t[1],r=t[2];t[3];d(n),x(c),k(r)}),[]),Object(n.useEffect)((function(){l&&"stop"!==a&&setTimeout((function(){d((function(){console.log("nextTime",l);var e=U(C,!1,a,g),t=Object(o.a)(e,4),n=t[0],c=t[1],r=t[2];t[3];d(n),x(c),k(r),console.log("timeData2",g)}))}),l)}),[l,a]);var A=function(e){w(Object(s.a)(Object(s.a)({},C),{},{mu_B:e}))},R=function(e){w(Object(s.a)(Object(s.a)({},C),{},{mu_A:e}))};return Object(h.jsxs)("div",{children:[Object(h.jsx)(L,{data:f}),Object(h.jsxs)("div",{className:"flex justify-around my-6 items-center",children:[Object(h.jsx)(T.a,{type:"primary",onClick:function(){return c("start")},children:"\u958b\u59cb\u6a21\u64ec"}),Object(h.jsx)(T.a,{style:{background:"#91A194",color:"white"},onClick:function(){return c("stop")},children:"\u66ab\u505c\u6a21\u64ec"})]}),Object(h.jsx)(V,{data:g}),Object(h.jsx)(H,{className:"m-4 mb-0",level:5,children:"\u4f7f\u7528\u60c5\u5883"}),Object(h.jsx)("div",{className:"card-container px-5",children:Object(h.jsxs)(N.a,{type:"card",centered:!0,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{current_tab:e}))},children:[Object(h.jsx)(J,{tab:"Model (1)",children:Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"flex justify-center",children:Object(h.jsxs)("div",{className:"w-full mx-5",children:[Object(h.jsxs)("div",{children:["Q1 up: ",C.returnData.Q1.up]}),Object(h.jsxs)("div",{children:["Q1 down: ",C.returnData.Q1.down]}),Object(h.jsxs)("div",{children:["Q1 toatl: ",C.returnData.Q1.total]}),Object(h.jsxs)("div",{children:["Q1: ",C.returnData.Q1.up/C.returnData.Q1.total]})]})}),Object(h.jsx)("hr",{className:"my-3"}),Object(h.jsxs)("div",{className:"flex justify-center mx-5",children:[Object(h.jsxs)("div",{className:"mr-5 pr-5 border-r w-1/2",children:[Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["B",Object(h.jsx)("sub",{children:"def."}),": ",C.default_B]}),Object(h.jsx)(E.a,{min:1,max:100,step:1,value:C.default_B,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{default_B:e})),x({series:[-e,C.default_A]})}})]}),Object(h.jsx)("hr",{className:"my-3"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["\u03bb",Object(h.jsx)("sub",{children:"B"}),": ",C.default_lambda_B]}),Object(h.jsx)(E.a,{min:1,max:100,step:.1,value:C.default_lambda_B,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{default_lambda_B:e}))}})]}),Object(h.jsx)("hr",{className:"my-3"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["\u03b8",Object(h.jsx)("sub",{children:"B"}),": ",C.default_theta_B]}),Object(h.jsx)(E.a,{min:1,max:100,step:.1,value:C.default_theta_B,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{default_theta_B:e}))}})]}),Object(h.jsx)("hr",{className:"my-3"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["\u03bc",Object(h.jsx)("sub",{children:"B"}),": ",C.mu_B]}),Object(h.jsx)(E.a,{min:.01,max:10,step:.01,value:C.mu_B,onChange:A})]})]}),Object(h.jsxs)("div",{className:"w-1/2",children:[Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["A",Object(h.jsx)("sub",{children:"def."}),": ",C.default_A]}),Object(h.jsx)(E.a,{min:1,max:100,step:1,value:C.default_A,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{default_A:e})),x({series:[-C.default_B,e]})}})]}),Object(h.jsx)("hr",{className:"my-3"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["\u03bb",Object(h.jsx)("sub",{children:"A"}),": ",C.default_lambda_A]}),Object(h.jsx)(E.a,{min:1,max:100,step:.1,value:C.default_lambda_A,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{default_lambda_A:e}))}})]}),Object(h.jsx)("hr",{className:"my-3"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["\u03b8",Object(h.jsx)("sub",{children:"A"}),": ",C.default_theta_A]}),Object(h.jsx)(E.a,{min:1,max:100,step:.1,value:C.default_theta_A,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{default_theta_A:e}))}})]}),Object(h.jsx)("hr",{className:"my-3"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["\u03bc",Object(h.jsx)("sub",{children:"A"}),": ",C.mu_A]}),Object(h.jsx)(E.a,{min:.01,max:10,step:.01,value:C.mu_A,onChange:R})]})]})]})]})},"1"),Object(h.jsx)(J,{tab:"Model (2)",children:Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"flex justify-center mx-5 border-b pb-3",children:[Object(h.jsxs)("div",{className:"mr-5 pr-5 w-1/2",children:[Object(h.jsxs)("div",{children:["n: ",C.n]}),Object(h.jsx)(E.a,{min:1,max:100,step:1,value:C.n,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{n:e}))}})]}),Object(h.jsxs)("div",{className:"w-1/2",children:[Object(h.jsxs)("div",{children:["p: ",C.p]}),Object(h.jsx)(E.a,{min:0,max:1,step:.01,value:C.p,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{p:e}))}})]})]}),Object(h.jsxs)("div",{className:"flex justify-center mx-5 mt-3",children:[Object(h.jsxs)("div",{className:"mr-5 pr-5 border-r w-1/2",children:[Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["\u03b1",Object(h.jsx)("sub",{children:"B"}),": ",C.default_alpha_B]}),Object(h.jsx)(E.a,{min:.01,max:10,step:.01,value:C.default_alpha_B,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{default_alpha_B:e}))}})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["k",Object(h.jsx)("sub",{children:"B"}),": ",C.default_lambda_B_K]}),Object(h.jsx)(E.a,{min:1,max:10,step:.01,value:C.default_lambda_B_K,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{default_lambda_B_K:e}))}})]}),Object(h.jsx)("hr",{className:"my-3"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["\u03b8",Object(h.jsx)("sub",{children:"B1"}),": ",C.default_theta_B1]}),Object(h.jsx)(E.a,{min:.01,max:10,step:.01,value:C.default_theta_B1,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{default_theta_B1:e}))}})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["\u03b8",Object(h.jsx)("sub",{children:"B2"}),": ",C.default_theta_B2]}),Object(h.jsx)(E.a,{min:.01,max:10,step:.01,value:C.default_theta_B2,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{default_theta_B2:e}))}})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["\u03b8",Object(h.jsx)("sub",{children:"B3"}),": ",C.default_theta_B3]}),Object(h.jsx)(E.a,{min:.01,max:10,step:.01,value:C.default_theta_B3,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{default_theta_B3:e}))}})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["\u03b8",Object(h.jsx)("sub",{children:"B4"}),": ",C.default_theta_B4]}),Object(h.jsx)(E.a,{min:.01,max:10,step:.01,value:C.default_theta_B4,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{default_theta_B4:e}))}})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["\u03b8",Object(h.jsx)("sub",{children:"B5"}),": ",C.default_theta_B5]}),Object(h.jsx)(E.a,{min:.01,max:10,step:.01,value:C.default_theta_B5,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{default_theta_B5:e}))}})]}),Object(h.jsx)("hr",{className:"my-3"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["\u03bc",Object(h.jsx)("sub",{children:"B"}),": ",C.mu_B]}),Object(h.jsx)(E.a,{min:.01,max:10,step:.01,value:C.mu_B,onChange:A})]})]}),Object(h.jsxs)("div",{className:"w-1/2",children:[Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["\u03b1",Object(h.jsx)("sub",{children:"A"}),": ",C.default_alpha_A]}),Object(h.jsx)(E.a,{min:.01,max:10,step:.01,value:C.default_alpha_A,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{default_alpha_A:e}))}})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["k",Object(h.jsx)("sub",{children:"A"}),": ",C.default_lambda_A_K]}),Object(h.jsx)(E.a,{min:1,max:10,step:.01,value:C.default_lambda_A_K,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{default_lambda_A_K:e}))}})]}),Object(h.jsx)("hr",{className:"my-3"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["\u03b8",Object(h.jsx)("sub",{children:"A1"}),": ",C.default_theta_A1]}),Object(h.jsx)(E.a,{min:.01,max:10,step:.01,value:C.default_theta_A1,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{default_theta_A1:e}))}})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["\u03b8",Object(h.jsx)("sub",{children:"A2"}),": ",C.default_theta_A2]}),Object(h.jsx)(E.a,{min:.01,max:10,step:.01,value:C.default_theta_A2,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{default_theta_A2:e}))}})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["\u03b8",Object(h.jsx)("sub",{children:"A3"}),": ",C.default_theta_A3]}),Object(h.jsx)(E.a,{min:.01,max:10,step:.01,value:C.default_theta_A3,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{default_theta_A3:e}))}})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["\u03b8",Object(h.jsx)("sub",{children:"A4"}),": ",C.default_theta_A4]}),Object(h.jsx)(E.a,{min:.01,max:10,step:.01,value:C.default_theta_A4,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{default_theta_A4:e}))}})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["\u03b8",Object(h.jsx)("sub",{children:"A5"}),": ",C.default_theta_A5]}),Object(h.jsx)(E.a,{min:.01,max:10,step:.01,value:C.default_theta_A5,onChange:function(e){w(Object(s.a)(Object(s.a)({},C),{},{default_theta_A5:e}))}})]}),Object(h.jsx)("hr",{className:"my-3"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["\u03bc",Object(h.jsx)("sub",{children:"A"}),": ",C.mu_A]}),Object(h.jsx)(E.a,{min:.01,max:10,step:.01,value:C.mu_A,onChange:R})]})]})]})]})},"2")]})})]})},X=a(326),Z=a(327),$=a(328),ee=a(203),te=a(339),ae=function(e){var t=e.visible,a=e.setVisible,c=e.defaultValue,r=e.reset,i=S.a.useForm(),l=Object(o.a)(i,1)[0];return Object(n.useEffect)((function(){console.log(c),c&&l.setFieldsValue(c)}),[c]),Object(h.jsx)(R.a,{title:c?"\u4fee\u6539\u60c5\u5883":"\u65b0\u589e\u60c5\u5883",visible:t,onOk:function(){l.submit()},onCancel:function(){l.resetFields(),a(!1)},okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",children:Object(h.jsxs)(S.a,{name:"basic",layout:"vertical",form:l,onFinish:function(e){c?w({url:D.putContainer.url,method:D.putContainer.method,data:Object(s.a)(Object(s.a)({},e),{},{id:c.id})}).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)})).finally((function(){r(Math.random()),l.resetFields(),a(!1)})):w({url:D.postContainer.url,method:D.postContainer.method,data:e}).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)})).finally((function(){r(Math.random()),l.resetFields(),a(!1)})),console.log(e)},initialValues:{remember:!0},children:[Object(h.jsx)(S.a.Item,{label:"\u60c5\u5883\u540d\u7a31",name:"name",rules:[{required:!0,message:"\u8acb\u8f38\u5165\u60c5\u5883"}],children:Object(h.jsx)(_.a,{placeholder:"\u8acb\u8f38\u5165\u60c5\u5883\u540d\u7a31"})}),Object(h.jsx)(S.a.Item,{label:"\u80a1\u7968id",name:"stockId",rules:[{required:!0,message:"\u8acb\u9078\u64c7\u80a1\u7968"}],children:Object(h.jsx)(B.a,{placeholder:"\u8acb\u9078\u64c7\u80a1\u7968",options:[{value:1,label:"1\u865f\u80a1\u7968"}]})})]})})},ne=(_.a.Search,M.a.Title),ce=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),i=Object(o.a)(r,2),l=i[0],d=i[1],u=Object(n.useState)(20),j=Object(o.a)(u,2),b=j[0],m=j[1],O=Object(n.useState)(0),p=Object(o.a)(O,2),f=p[0],x=p[1],v=Object(n.useState)(!1),g=Object(o.a)(v,2),k=g[0],S=g[1],C=Object(n.useState)(0),I=Object(o.a)(C,2),R=I[0],M=I[1],N=Object(n.useState)(),E=Object(o.a)(N,2),B=E[0],F=E[1],z=Object(n.useState)([]),L=Object(o.a)(z,2),Y=L[0],q=L[1],V=Object(n.useState)({}),G=Object(o.a)(V,2),K=G[0],Q=G[1];Object(n.useEffect)((function(){w({url:D.getContainer.url,method:D.getContainer.method,params:Object(s.a)(Object(s.a)({},K),{},{page:{page:l,pageSize:b}})}).then((function(e){console.log(e.data),c(e.data.content),x(e.data.totalSize)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))}),[l,b,R]);var U={selectedRowKeys:Y,onChange:function(e,t){q(t.map((function(e){return e.id})))},preserveSelectedRowKeys:!1};return Object(h.jsxs)("div",{className:"px-10",children:[Object(h.jsx)(ae,{visible:k,setVisible:S,reset:M,defaultValue:B}),Object(h.jsx)(ne,{level:5,children:"\u689d\u4ef6\u641c\u5c0b"}),Object(h.jsxs)(X.a,{className:"mb-4 border border-gray-200 p-4",justify:"space-around",align:"bottom",children:[Object(h.jsxs)(Z.a,{span:6,children:["\u60c5\u5883\u540d\u7a31",Object(h.jsx)(_.a,{placeholder:"\u8f38\u5165\u540d\u7a31",size:"middle",onChange:function(e){Q(Object(s.a)(Object(s.a)({},K),{},{name:e.target.value}))}})]}),Object(h.jsxs)(Z.a,{span:6,children:["\u80a1\u7968\u540d\u7a31",Object(h.jsx)(P,{style:{width:"100%"},onChange:function(e){Q(Object(s.a)(Object(s.a)({},K),{},{stockId:e}))}})]}),Object(h.jsx)(Z.a,{span:2,children:Object(h.jsx)(T.a,{onClick:function(){M(Math.random())},children:"\u641c\u5c0b"})})]}),Object(h.jsxs)("div",{className:"flex justify-end my-5",children:[Object(h.jsx)(T.a,{disabled:!Y.length,type:"default",className:"mr-4",onClick:function(){w({url:D.deleteContainer.url,method:D.deleteContainer.method,data:{id:Y}}).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)})).finally((function(){q([]),M(Math.random())}))},children:"\u522a\u9664\u52fe\u9078"}),Object(h.jsx)(T.a,{type:"primary",onClick:function(){F(null),S(!0)},children:"\u65b0\u589e\u60c5\u5883"})]}),Object(h.jsx)($.a,{rowKey:function(e){return e.id},rowSelection:Object(s.a)({type:"checkbox"},U),columns:[{title:"\u80a1\u7968 ID",dataIndex:"stockId"},{title:"\u60c5\u5883\u540d\u7a31",dataIndex:"name"},{title:"\u5275\u5efa\u6642\u9593",dataIndex:"createdTime",width:200,render:function(e){return Object(h.jsx)("span",{children:y()(e).format("YYYY/MM/DD HH:mm:ss")})}},{title:"\u66f4\u65b0\u6642\u9593",dataIndex:"updatedTime",width:200,render:function(e){return Object(h.jsx)("span",{children:y()(e).format("YYYY/MM/DD HH:mm:ss")})}},{title:"\u72c0\u614b",dataIndex:"action",render:function(e,t){return Object(h.jsxs)("span",{children:[Object(h.jsx)(T.a,{type:"link",shape:"circle",className:"inline-flex justify-center items-center mr-2",icon:Object(h.jsx)(ee.a,{}),onClick:function(){console.log(t,"data"),F({id:t.id,name:t.name,stockId:t.stockId}),S(!0)}}),Object(h.jsx)(T.a,{type:"link",shape:"circle",className:"inline-flex justify-center items-center",onClick:function(){w({url:D.deleteContainer.url,method:D.deleteContainer.method,data:{id:[t.id]}}).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)})).finally((function(){M(Math.random())}))},icon:Object(h.jsx)(te.a,{})})]})}}],dataSource:a,pagination:{pageSize:b,total:f,onChange:function(e){d(e)},onShowSizeChange:function(e,t){m(t)}},sticky:!0})]})},re=a(30),ie=a(44),se=a(67),le=a.n(se),oe=a(196),de=a(62),ue=a(329),je=a(337),be=a(334),he=a(90),me=B.a.Option,Oe=["count","method","subMethod","price","quantity","priceType","timeRestriction","stockId","trdate","ts"],pe=["count","stockId","price","quantity","trdate","ts"],fe=["count","mthpx","mthsz","a1px","a1sz","a2px","a2sz","a3px","a3sz","a4px","a4sz","a5px","a5sz","b1px","b1sz","b2px","b2sz","b3px","b3sz","b4px","b4sz","b5px","b5sz","asz","bsz","sym","trdate","ts"],xe=function(e){switch(e){case"transaction":return pe;case"display":return fe;default:return Oe}},ve=function(e,t){switch(e){case"transaction":return"stock"===t?D.getRealDataStockTransactionContent:D.getRealDataFuturesTransactionContent;case"display":return"stock"===t?D.getRealDataStockDisplayContent:D.getRealDataFuturesDisplayContent;default:return"stock"===t?D.getRealDataStockOrderContent:D.getRealDataFuturesOrderContent}},ye=[{header:"\u59d4\u8a17\u6a94",value:"order"},{header:"\u6210\u4ea4\u6a94",value:"transaction"},{header:"\u63ed\u793a\u6a94",value:"display"}],ge=[{header:"\u6beb\u79d2",value:4},{header:"\u79d2",value:3},{header:"\u5206",value:0},{header:"\u6642",value:1},{header:"\u65e5",value:2}],ke=[{header:"\u7b2c\u4e00\u7b46",value:0},{header:"\u6210\u4ea4\u50f9\u6700\u5927",value:1},{header:"\u6210\u4ea4\u50f9\u6700\u5c0f",value:2},{header:"\u5e73\u5747\u6210\u4ea4\u50f9",value:3}],Se=function(e){var t=e.marketType,a=Object(n.useState)(),c=Object(o.a)(a,2),r=c[0],i=c[1],l=Object(n.useState)([]),d=Object(o.a)(l,2),u=d[0],j=d[1],b=Object(n.useState)("order"),m=Object(o.a)(b,2),O=m[0],p=m[1],f=Object(n.useState)({start:"year",end:"year"}),x=Object(o.a)(f,2),v=x[0],y=x[1],g=Object(n.useState)(1),k=Object(o.a)(g,2),S=k[0],_=k[1],C=Object(n.useState)(!0),I=Object(o.a)(C,2),R=I[0],M=I[1],N=Object(n.useState)(3),E=Object(o.a)(N,2),F=E[0],z=E[1],L=Object(n.useState)(0),Y=Object(o.a)(L,2),q=Y[0],V=Y[1],G=Object(n.useState)(Oe),K=Object(o.a)(G,2),Q=K[0],U=K[1],H=Object(n.useState)([]),J=Object(o.a)(H,2),W=J[0],$=J[1],ee=Object(n.useState)(),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)(),se=Object(o.a)(ce,2),pe=se[0],fe=se[1],Se=Object(n.useState)(!1),_e=Object(o.a)(Se,2),Te=_e[0],Ce=_e[1],we=Object(n.useState)(!1),De=Object(o.a)(we,2),Ie=De[0],Ae=De[1],Re=Object(n.useState)(!1),Me=Object(o.a)(Re,2),Ne=Me[0],Ee=(Me[1],Object(n.useState)()),Be=Object(o.a)(Ee,2),Fe=Be[0],Pe=Be[1],ze=Object(n.useCallback)((function(){if(0!==u.length){Ce(!0);var e=function(e){return"stock"===e?D.getAvailableStock:D.getAvailableFutures}(t),a=e.url,n=e.method;Promise.all(u.map((function(e){return w({url:a+"/".concat(e),method:n,params:{type:O}})}))).then((function(e){var t=new Set;e.forEach((function(e){e.data.forEach((function(e){t.add(e)}))})),$(Array.from(t)),Ce(!1)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data),Ce(!1)}))}}),[O,t,u]);return Object(n.useEffect)((function(){ze()}),[ze]),Object(n.useEffect)((function(){w({url:D.getGroup.url,method:D.getGroup.method}).then((function(e){var t=e.data.content;Pe(t)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))}),[]),Object(h.jsx)(oe.a,{spinning:Te,children:Object(h.jsxs)("div",{style:{padding:"20px"},children:[function(e){switch(e){case"stock":return"\u8b49\u4ea4";case"futures":return"\u671f\u4ea4";default:return""}}(t),Object(h.jsxs)(X.a,{children:[Object(h.jsxs)(Z.a,{span:6,children:["\u6a94\u6848\u985e\u578b",Object(h.jsx)(B.a,{style:{width:"100%"},onChange:function(e){p(e),U(xe(e)),ne(null),fe(null)},value:O,placeholder:"\u9078\u64c7\u6a94\u6848\u985e\u578b",children:ye.map((function(e){return Object(h.jsx)(me,{value:e.value,children:e.header},Math.random())}))})]}),Object(h.jsxs)(Z.a,{span:6,children:[Ne?"\u985e\u80a1":"\u80a1\u7968",Object(h.jsx)(B.a,{style:{width:"100%",display:Ne?void 0:"none"},onChange:function(e){i(e)},value:r,placeholder:"\u9078\u64c7\u985e\u80a1",children:Fe&&Fe.map((function(e,t){return Object(h.jsx)(me,{value:t,children:e.name},Math.random())}))}),Object(h.jsx)(P,{isRealData:{marketType:t,fileType:O},style:{width:"100%",display:Ne?"none":void 0},onChange:function(e){j(e)},mode:"multiple"})]})]}),Object(h.jsxs)(X.a,{style:{marginTop:"20px"},children:[Object(h.jsxs)(Z.a,{span:6,children:[Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(h.jsx)(de.a,{title:"\u958b\u59cb\u6642\u9593\u8207\u7d50\u675f\u6642\u9593\u9593\u9694\u4e0d\u53ef\u5927\u65bc5\u5929\uff0c\u6c92\u8cc7\u6599\u7684\u4e0d\u53ef\u9078",children:Object(h.jsx)(he.a,{})}),"\u958b\u59cb\u6642\u9593"]}),Object(h.jsx)(ue.a,{picker:"date",mode:v.start,onPanelChange:function(e,t){y(Object(s.a)(Object(s.a)({},v),{},{start:t}))},onOpenChange:function(e){e||y(Object(s.a)(Object(s.a)({},v),{},{start:"year"}))},value:ae,allowClear:!0,style:{width:"100%"},placeholder:"\u9078\u64c7\u958b\u59cb\u6642\u9593",disabled:0===u.length,disabledDate:function(e){var t=e&&e.startOf("day"),a=pe&&pe;return t&&t>le()()||t&&!W.includes(t.format("YYYY-MM-DD"))||a&&t>a||a&&a.diff(t)/864e5>=5},onChange:function(e){ne(e&&e.startOf("day"))}})]}),Object(h.jsxs)(Z.a,{span:6,children:["\u7d50\u675f\u6642\u9593",Object(h.jsx)(ue.a,{picker:"date",mode:v.end,onPanelChange:function(e,t){y(Object(s.a)(Object(s.a)({},v),{},{end:t}))},onOpenChange:function(e){e||y(Object(s.a)(Object(s.a)({},v),{},{end:"year"}))},value:pe,allowClear:!0,style:{width:"100%"},placeholder:"\u9078\u64c7\u7d50\u675f\u6642\u9593",disabled:0===u.length,disabledDate:function(e){var t=e&&e.startOf("day"),a=ae&&ae;return t&&t>le()()||t&&!W.includes(t.format("YYYY-MM-DD"))||a&&t<a||a&&t.diff(a)/864e5>=5},onChange:function(e){fe(e&&e.startOf("day"))}})]})]}),Object(h.jsxs)(X.a,{style:{marginTop:"20px"},children:[Object(h.jsxs)(Z.a,{span:6,children:[Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(h.jsx)(de.a,{title:"\u82e5\u9078\u64c7\u4e0d\u53d6\u6a23\uff0c\u6703\u5c07\u539f\u59cb\u8cc7\u6599\u5168\u90e8\u4e0b\u8f09",children:Object(h.jsx)(he.a,{})}),R?"\u6642\u9593\u983b\u7387":"\u4e0d\u53d6\u6a23",Object(h.jsx)(je.a,{checked:R,onChange:function(){M(!R)}})]}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(h.jsx)(be.a,{disabled:!R,style:{width:"100%"},value:S,step:1,onChange:function(e){_(Math.floor(e))}}),Object(h.jsx)(B.a,{disabled:!R,allowClear:!0,style:{width:"100%"},onChange:function(e){z(e)},value:F,placeholder:"\u9078\u64c7\u6642\u9593\u983b\u7387",children:ge.map((function(e){return Object(h.jsx)(me,{value:e.value,children:e.header},Math.random())}))})]})]}),Object(h.jsxs)(Z.a,{span:6,children:["\u53d6\u6a23\u6a21\u5f0f",Object(h.jsx)(B.a,{disabled:void 0===F||!R,style:{width:"100%"},onChange:function(e){V(e)},value:q,placeholder:"\u9078\u64c7\u53d6\u6a23\u6a21\u5f0f",children:ke.map((function(e){return Object(h.jsx)(me,{value:e.value,children:e.header},Math.random())}))})]})]}),Object(h.jsx)(X.a,{style:{marginTop:"20px"},children:Object(h.jsxs)(Z.a,{span:12,children:["\u6b04\u4f4d",Object(h.jsx)(B.a,{style:{width:"100%"},onChange:function(e){U(e)},value:Q,mode:"multiple",placeholder:"\u9078\u64c7\u6b04\u4f4d",children:xe(O).map((function(e){return Object(h.jsx)(me,{value:e,children:e},Math.random())}))})]})}),Object(h.jsx)(X.a,{style:{marginTop:"20px"},children:Object(h.jsx)(T.a,{loading:Ie,onClick:Object(ie.a)(Object(re.a)().mark((function e(){var a,n,c,i;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],Ne?isNaN(r)||(a=Fe[r].stocks.map((function(e){return e.id}))):u&&(a=u),!(a.length&&ae&&pe)){e.next=9;break}return n=ve(O,t),c=n.url,i=n.method,Ae(!0),e.next=7,Promise.all(a.map((function(e){return w({url:c,method:i,params:{unit:S,dateFormat:R?F:void 0,sampleMode:q,fields:Q,stockId:e,futuresId:e,startTime:ae.startOf("day").toISOString(),endTime:pe.endOf("day").toISOString()}}).then((function(e){var t=e.data,a=e.headers.filename,n=(t.length?Object.keys(t[0]).join(",")+"\n":"")+t.map((function(e){return Object.values(e).join(",")})).join("\n"),c=window.URL.createObjectURL(new Blob([n])),r=document.createElement("a");r.href=c,r.setAttribute("download",a),document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(c),Ae(!1)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data),Ae(!1)}))})));case 7:e.next=10;break;case 9:A({statusCode:400,message:"stock, startTime, endTime are required"});case 10:case"end":return e.stop()}}),e)}))),children:"DOWNLOAD CSV"})})]})})},_e=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(Se,{marketType:"stock"}),Object(h.jsx)(Se,{marketType:"futures"})]})},Te=a(8),Ce=function(){var e;(e=console).log.apply(e,arguments)},we=function(e,t){switch(e){case"transaction":return"stock"===t?D.getRealDataStockTransaction:D.getRealDataFuturesTransaction;case"display":return"stock"===t?D.getRealDataStockDisplay:D.getRealDataFuturesDisplay;default:return"stock"===t?D.getRealDataStockOrder:D.getRealDataFuturesOrder}},De=function(e,t){switch(console.log(e,t),e){case"transaction":return"stock"===t?D.postRealDataStockTransaction:D.postRealDataFuturesTransaction;case"display":return"stock"===t?D.postRealDataStockDisplay:D.postRealDataFuturesDisplay;default:return"stock"===t?D.postRealDataStockOrder:D.postRealDataFuturesOrder}},Ie=function(e,t){switch(e){case"transaction":return"stock"===t?D.putRealDataStockTransaction:D.putRealDataFuturesTransaction;case"display":return"stock"===t?D.putRealDataStockDisplay:D.putRealDataFuturesDisplay;default:return"stock"===t?D.putRealDataStockOrder:D.putRealDataFuturesOrder}},Ae=function(e,t){switch(e){case"transaction":return"stock"===t?D.deleteRealDataStockTransaction:D.deleteRealDataFuturesTransaction;case"display":return"stock"===t?D.deleteRealDataStockDisplay:D.deleteRealDataFuturesDisplay;default:return"stock"===t?D.deleteRealDataStockOrder:D.deleteRealDataFuturesOrder}},Re=function(e,t){switch(e){case"transaction":return"stock"===t?D.postRealDataStockTransactionContent:D.postRealDataFuturesTransactionContent;case"display":return"stock"===t?D.postRealDataStockDisplayContent:D.postRealDataFuturesDisplayContent;default:return"stock"===t?D.postRealDataStockOrderContent:D.postRealDataFuturesOrderContent}},Me=function(){var e=Object(ie.a)(Object(re.a)().mark((function e(t,a,n){var c,r,i;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=we(t,a),r=c.url,i=c.method,e.abrupt("return",w({url:r,method:i,params:{page:n}}));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(ie.a)(Object(re.a)().mark((function e(t,a,n){var c,r,i;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=De(a,n),r=c.url,i=c.method,e.abrupt("return",w({url:r,method:i,data:{id:t}}));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(ie.a)(Object(re.a)().mark((function e(t,a,n){var c,r,i;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Ie(a,n),r=c.url,i=c.method,e.abrupt("return",w({url:r,method:i,data:{id:t}}));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Be=function(){var e=Object(ie.a)(Object(re.a)().mark((function e(t,a,n){var c,r,i;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Ae(a,n),r=c.url,i=c.method,e.abrupt("return",w({url:r,method:i,data:t}));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(ie.a)(Object(re.a)().mark((function e(t,a,n,c){var r,i,s;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Re(a,n),i=r.url,s=r.method,e.abrupt("return",w({url:i,method:s,data:c,params:{id:t}}));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}(),Pe=function(e){var t=e.file,a=e.isLoading,c=e.fileType,r=e.marketType,i=Object(n.useState)(0),s=Object(o.a)(i,2),l=s[0],d=s[1],u=Object(n.useState)(),j=Object(o.a)(u,2),b=j[0],m=j[1],O=Object(n.useState)(!1),p=Object(o.a)(O,2),f=p[0],x=p[1],v=Object(n.useRef)(!0),y=Object(n.useRef)(""),g=Object(n.useCallback)((function(){if(l<b.size){var e=Math.min(6e5,b.size-l),t=b.slice(l,l+e),a=new FileReader;a.addEventListener("load",(function(t){var a=t.target.result.split("\n");a[0]=y.current+a[0],y.current=a[a.length-1],a.pop(),Ce(2);var n=[];if(a.length<1e3)n.push(a);else for(var i=0;i<a.length;)n.push(a.slice(i,i+1e3)),i+=1e3;Promise.all(n.map((function(e){return Fe(b.name,c,r,e)}))).then((function(){d(l+e)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data),x(!0)}))})),a.readAsText(t)}else Ee(b.name,c,r).then((function(){Ce(3)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data),x(!0)}))}),[b,l,c,r]);return Object(n.useEffect)((function(){m(t),d(0)}),[t]),Object(n.useEffect)((function(){a&&b&&c&&(v.current?Ne(b.name,c,r).then((function(){v.current=!1,g(),Ce(1)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data),x(!0)})):g())}),[a,b,c,r,g]),b?Object(h.jsxs)("div",{children:[b.name," ",f?"ERROR":(l/b.size*100).toFixed(2)+"%"]}):Object(h.jsx)("div",{})},ze=function(e){var t=e.fileType,a=e.marketType,c=Object(n.useState)([]),r=Object(o.a)(c,2),i=r[0],l=r[1],d=Object(n.useState)([]),u=Object(o.a)(d,2),j=u[0],b=u[1],m=Object(n.useState)([]),O=Object(o.a)(m,2),p=O[0],f=O[1],x=Object(n.useState)(1),v=Object(o.a)(x,2),y=v[0],g=v[1],k=Object(n.useState)(20),S=Object(o.a)(k,2),_=S[0],C=S[1],w=Object(n.useState)(0),D=Object(o.a)(w,2),I=D[0],A=D[1],M=Object(n.useState)(!1),N=Object(o.a)(M,2),E=N[0],B=N[1],F=Object(n.useCallback)((function(){Me(t,a,{page:y,pageSize:_}).then((function(e){var t=e.data;f(t.content),A(t.totalSize),B(!1)}))}),[y,_,t,a]);return Object(n.useEffect)((function(){F()}),[F]),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"file",multiple:!0,onChange:function(e){var t=e.target.files,a=Array.from(t);l(a),b(Object(Te.a)(new Array(a.length)).fill(!1))}}),Object(h.jsx)(T.a,{type:"primary",onClick:function(){b(j.map((function(){return!0})))},children:"\u4e0a\u50b3"}),Object(h.jsx)(T.a,{type:"primary",danger:!0,onClick:function(){R.a.error({closable:!0,content:"\u78ba\u5b9a\u8981\u522a\u9664\u55ce?",maskClosable:!0,okText:"\u78ba\u5b9a",onOk:function(){B(!0);var e=p.filter((function(e){return 0===e.isFinished})).map((function(e){return e.id}));Be(e,t,a).then((function(){F()}))}})},children:"\u522a\u9664\u672a\u5b8c\u6210"}),Object(h.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:i.map((function(e,n){return Object(h.jsx)(Pe,{file:e,isLoading:j[n],fileType:t,marketType:a},Math.random())}))}),Object(h.jsx)($.a,{loading:E,dataSource:p.map((function(e){return Object(s.a)({key:Math.random()},e)})),columns:[{title:"\u6a94\u540d",dataIndex:"id",key:Math.random()},{title:"\u5df2\u5b8c\u6210",dataIndex:"isFinished",render:function(e){return 0===e?"\u5426":"\u662f"},key:Math.random()},{title:"\u522a\u9664",dataIndex:"action",render:function(e,n){var c=n.id;return Object(h.jsx)(T.a,{type:"link",shape:"circle",className:"inline-flex justify-center items-center",onClick:function(){R.a.error({closable:!0,content:"\u78ba\u5b9a\u8981\u522a\u9664".concat(c,"\u55ce?"),maskClosable:!0,okText:"\u78ba\u5b9a",onOk:function(){B(!0),Be([c],t,a).then((function(){F()}))}})},icon:Object(h.jsx)(te.a,{})})}}],scroll:{y:"500px"},pagination:{pageSize:_,total:I,onChange:function(e){g(e)},onShowSizeChange:function(e,t){C(t)}}})]})},Le=function(){return Object(h.jsxs)("div",{style:{textAlign:"center"},children:[Object(h.jsx)("span",{style:{color:"red"},children:'\u82e5"\u5df2\u5b8c\u6210"\u70ba\u5426 \u8acb\u5c07\u8a72\u7b46\u8cc7\u6599\u522a\u9664\u5f8c\u518d\u91cd\u65b0\u4e0a\u50b3'}),[{marketType:"stock",title:"\u8b49\u4ea4"},{marketType:"futures",title:"\u671f\u4ea4"}].map((function(e){var t=e.marketType,a=e.title;return Object(h.jsxs)("div",{style:{marginTop:"20px",marginBottom:"20px"},children:[a,Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"},children:[Object(h.jsxs)("div",{children:["\u59d4\u8a17\u6a94",Object(h.jsx)(ze,{fileType:"order",marketType:t})]}),Object(h.jsxs)("div",{children:["\u6210\u4ea4\u6a94",Object(h.jsx)(ze,{fileType:"transaction",marketType:t})]}),Object(h.jsxs)("div",{children:["\u63ed\u793a\u6a94",Object(h.jsx)(ze,{fileType:"display",marketType:t})]})]})]},Math.random())}))]})},Ye=["id","realDataOrderId"],qe=(N.a.TabPane,function(e){var t=e.orders,a=e.stockId,c=e.onReset,r=Object(n.useState)(0),i=Object(o.a)(r,2),d=i[0],u=i[1],j=Object(n.useState)(!1),b=Object(o.a)(j,2),m=b[0],O=b[1],p=Object(n.useState)(1),f=Object(o.a)(p,2),x=f[0],v=f[1],g=Object(n.useRef)(),k=Object(n.useRef)(1),S=Object(n.useRef)();Object(n.useEffect)((function(){return g.current&&(clearTimeout(g.current),g.current=void 0),u(0),O(!1),function(){S.current&&clearTimeout(S.current),g.current&&clearTimeout(g.current)}}),[t]);var _=Object(n.useCallback)((function(){var e=t[d],a=t[d+1];if(function(e){e.id,e.realDataOrderId;var t=Object(l.a)(e,Ye),a=D.postOrder,n=a.url,c=a.method;return w({url:n,method:c,data:Object(s.a)(Object(s.a)({},t),{},{investorId:null})})}(e).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)})),a){var n=Date.parse(a.createdTime)-Date.parse(e.createdTime);g.current=setTimeout((function(){u(d+1)}),Math.max(n/k.current,50))}}),[d,t]);return Object(n.useEffect)((function(){m?_():g.current&&(clearTimeout(g.current),g.current=void 0)}),[m,_]),Object(n.useEffect)((function(){k.current=x}),[x]),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"flex justify-around my-6 items-center",children:[Object(h.jsx)(T.a,{type:"primary",onClick:function(){O(!0)},disabled:!a||!t.length,children:"\u958b\u59cb\u6a21\u64ec"}),Object(h.jsx)(T.a,{style:{background:"#91A194",color:"white"},onClick:function(){O(!1)},disabled:!a||!m,children:"\u66ab\u505c\u6a21\u64ec"}),Object(h.jsxs)("div",{style:{width:"200px"},children:["\u64ad\u653e\u901f\u5ea6 ",x," \u500d",Object(h.jsx)(E.a,{value:x,max:10,disabled:!a||!t.length,onChange:function(e){v(e)}})]})]}),Object(h.jsxs)("div",{style:{width:"100%"},children:["\u72c0\u614b(",t.length?d+1:0," / ",t.length," )",Object(h.jsx)(E.a,{value:d,max:t.length-1,disabled:!a||!t.length,onChange:function(e){u(e),O(!1),S.current&&clearTimeout(S.current),S.current=setTimeout((function(){c&&c();var e=t[d];(function(e){return w({url:D.resetStock.url,method:D.resetStock.method,data:{id:e,isReset:!0,isAutoDisplay:!1}})})(e.stockId===a?a:e.stockId).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))}),1e3)}}),Object(h.jsx)($.a,{rowKey:"id",columns:[{title:"\u985e\u578b",dataIndex:"o_type",render:function(e){return Object(h.jsx)("span",{children:"B"==e?"buy":"sell"})},key:Math.random()},{title:"\u50f9\u683c",dataIndex:"odr_price",key:Math.random()},{title:"\u6578\u91cf",dataIndex:"t_vol",key:Math.random()},{title:"\u6642\u9593",dataIndex:"o_datetime",render:function(e){console.log(e);var t=Number(e.toString().substring(0,e.toString().length-3));return Object(h.jsx)("span",{children:y()(t).format("YYYY/MM/DD HH:mm:ss")})}}],pagination:!1,dataSource:t.length&&[Object(s.a)(Object(s.a)({},t[d]),{},{key:Math.random()})],sticky:!0})]})]})}),Ve=function(e){e.customResetStock;var t=e.onReset,a=Object(n.useState)([]),c=Object(o.a)(a,2),r=c[0],i=c[1],l=Object(n.useState)("stock"),d=Object(o.a)(l,2),u=(d[0],d[1],Object(n.useState)(!1)),j=Object(o.a)(u,2),b=(j[0],j[1]),m=Object(n.useState)([]),O=Object(o.a)(m,2),p=O[0],f=O[1],x=Object(n.useState)(),v=Object(o.a)(x,2),y=v[0],g=v[1],k=Object(n.useState)(),S=Object(o.a)(k,2),_=S[0],C=S[1],D=Object(n.useState)(),I=Object(o.a)(D,2),R=I[0],M=I[1],N=Object(n.useState)(),E=Object(o.a)(N,2),B=E[0],F=E[1],z=Object(n.useState)(),L=Object(o.a)(z,2),Y=L[0],q=L[1];return Object(n.useEffect)((function(){if(_)return w({url:"https://140.118.118.173/api/v1/getStockData",credentials:"include",method:"GET",headers:new Headers({"access-control-allow-origin":"*","Content-Type":"application/json"}),params:{cmd:"get_data_exist_date",s_code:y,sc_type:"dsp",year_month:_}}).then((function(e){var t=e.data;console.log("data",t.data),f(t.data),b(!1)})).catch((function(e){var t;console.log("error",e),A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data),b(!1)}))}),[_]),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"flex justify-around my-6 items-center",children:[Object(h.jsxs)("div",{className:"w-1/6",children:["\u9078\u64c7\u80a1\u7968",Object(h.jsx)(P,{style:{width:"100%"},onChange:function(e){g(e)}})]}),Object(h.jsxs)("div",{className:"w-1/6",children:["\u9078\u64c7\u6708\u4efd",Object(h.jsx)(ue.a,{picker:"month",disabled:!y,onChange:function(e,t){C(t)}})]}),Object(h.jsxs)("div",{className:"w-1/6",children:["\u9078\u64c7\u65e5\u671f",Object(h.jsx)(ue.a,{allowClear:!0,disabled:!y&&0==p.length,disabledDate:function(e){var t=e&&e.startOf("day"),a=Y&&Y;return t&&t>le()()||t&&!p.includes(t.format("YYYY-MM-DD"))||a&&t>a||a&&a.diff(t)/864e5>=5},onChange:function(e,t){M(t)}})]}),Object(h.jsxs)("div",{className:"w-1/6",children:["\u9078\u64c7\u958b\u59cb\u6642\u9593",Object(h.jsx)(ue.a,{picker:"time",disabled:!y,onChange:function(e,t){console.log("startDate1",R);var a=new Date(R+" "+t).getTime();F(a)}})]}),Object(h.jsxs)("div",{className:"w-1/6",children:["\u9078\u64c7\u7d50\u675f\u6642\u9593",Object(h.jsx)(ue.a,{picker:"time",disabled:!y,onChange:function(e,t){console.log("startDate2",R);var a=new Date(R+" "+t).getTime();q(a)}})]}),Object(h.jsxs)("div",{children:["\xa0",Object(h.jsx)(T.a,{type:"primary",danger:!0,onClick:Object(ie.a)(Object(re.a)().mark((function e(){var t;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=y,w({url:"https://140.118.118.173/api/v1/getStockData",credentials:"include",method:"GET",headers:new Headers({"access-control-allow-origin":"*","Content-Type":"application/json"}),params:{cmd:"get_stock",s_code:y,sc_type:"odr",start_time:B,end_time:Y}}).then((function(e){var a=e.data;console.log("stockData",a),i(a.data.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{investorId:null,stockId:t})})))})).catch((function(e){var t;console.log("error",e),A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data),b(!1)}));case 2:case"end":return e.stop()}}),e)}))),disabled:!y||!B,children:"\u8f09\u5165\u59d4\u8a17"})]})]}),Object(h.jsx)(qe,{orders:r,stockId:y,onReset:t})]})},Ge=function(e){var t=e.customResetStock,a=e.onReset;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(Ve,{customResetStock:t,onReset:a})})},Ke=function(e){var t=e.onStockChange,a=e.onStartChange,n=e.onEndChange;return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"flex justify-around my-6 items-center",children:[Object(h.jsxs)("div",{className:"w-1/6",children:["\u9078\u64c7\u80a1\u7968",Object(h.jsx)(P,{style:{width:"100%"},onChange:function(e){t&&t(e)}})]}),Object(h.jsxs)("div",{className:"w-1/6",children:["\u958b\u59cb\u6642\u9593",Object(h.jsx)(ue.a,{allowClear:!0,style:{width:"100%"},showTime:!0,placeholder:"\u9078\u64c7\u958b\u59cb\u6642\u9593",disabledDate:function(e){return e&&e>y()()},onChange:function(e){var t=e?y()(e).toISOString():e;a&&a(t)}})]}),Object(h.jsxs)("div",{className:"w-1/6",children:["\u7d50\u675f\u6642\u9593",Object(h.jsx)(ue.a,{allowClear:!0,style:{width:"100%"},showTime:!0,placeholder:"\u9078\u64c7\u7d50\u675f\u6642\u9593",disabledDate:function(e){return e&&e>y()()},onChange:function(e){var t=e?y()(e).toISOString():e;n&&n(t)}})]})]})})},Qe=function(e){var t=e.type,a=e.stockId,n=e.startTime,c=e.endTime;return Object(h.jsx)(T.a,{type:"primary",onClick:function(){var e="order"===t?"getOrder":"getTransaction";w({url:D[e].url,method:D[e].method,params:{stockId:a,createdTime:{min:n,max:c}}}).then((function(e){var a=0===e.data.content.length?[{}]:e.data.content,n=Object.keys(a[0]).join(",")+"\n",c=a.reduce((function(e,t){return e+Object.values(t).join(",")+"\n"}),n),r="".concat(t,"_")+(new Date).getTime()+".csv",i=document.createElement("a");i.setAttribute("href","data:text/csv;charset=utf-8,%EF%BB%BF"+encodeURI(c)),i.setAttribute("download",r),i.click()})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},children:"Download CSV"})},Ue=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),i=Object(o.a)(r,2),s=i[0],l=i[1],d=Object(n.useState)(20),u=Object(o.a)(d,2),j=u[0],b=u[1],m=Object(n.useState)(0),O=Object(o.a)(m,2),p=O[0],f=O[1],x=Object(n.useState)(),v=Object(o.a)(x,2),g=v[0],k=v[1],S=Object(n.useState)(),_=Object(o.a)(S,2),T=_[0],C=_[1],I=Object(n.useState)(),R=Object(o.a)(I,2),M=R[0],N=R[1];return Object(n.useEffect)((function(){w({url:D.getDisplay.url,method:D.getDisplay.method,params:{page:{page:s,pageSize:j},stockId:g,createdTime:{min:T,max:M}}}).then((function(e){c(e.data.content),f(e.data.totalSize)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))}),[s,j,g,T,M]),Object(h.jsxs)("div",{children:[Object(h.jsx)(Ke,{onStockChange:function(e){k(e)},onStartChange:function(e){C(e)},onEndChange:function(e){N(e)}}),Object(h.jsx)(Qe,{type:"order",stockId:g,startTime:T,endTime:M}),Object(h.jsx)($.a,{columns:[{title:"\u8a02\u55ae ID",dataIndex:"orderId",render:function(e){return Object(h.jsx)("span",{children:e||"NULL"})},key:Math.random()},{title:"\u6295\u8cc7 ID",dataIndex:"investorId",key:Math.random()},{title:"\u80a1\u7968 ID",dataIndex:"stockId",key:Math.random()},{title:"\u985e\u578b",dataIndex:"method",render:function(e){return Object(h.jsx)("span",{children:e?"sell":"buy"})},key:Math.random()},{title:"\u526f\u985e\u578b",dataIndex:"subMethod",render:function(e){return Object(h.jsx)("span",{children:e?"UPDATE":null===e?"NULL":"CANCEL"})},key:Math.random()},{title:"\u50f9\u683c",dataIndex:"price",key:Math.random()},{title:"\u6578\u91cf",dataIndex:"quantity",key:Math.random()},{title:"\u50f9\u683c\u985e\u578b",dataIndex:"priceType",render:function(e){return Object(h.jsx)("span",{children:e?"LIMIT":"MARKET"})},key:Math.random()},{title:"\u72c0\u614b",dataIndex:"status",render:function(e){return Object(h.jsx)("span",{children:e?"FULL":"PARTIAL"})},key:Math.random()},{title:"\u6642\u9593\u9650\u5236",dataIndex:"timeRestriction",render:function(e){return Object(h.jsx)("span",{children:e?"IOC":2===e?"FOK":"ROD"})},key:Math.random()},{title:"\u59d4\u8a17\u6642\u9593",dataIndex:"createdTime",width:200,render:function(e){return Object(h.jsx)("span",{children:y()(e).format("YYYY/MM/DD HH:mm:ss")})},key:Math.random()}],dataSource:a,pagination:{pageSize:j,total:p,onChange:function(e){l(e)},onShowSizeChange:function(e,t){b(t)}},sticky:!0})]})},He=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),i=Object(o.a)(r,2),s=i[0],l=i[1],d=Object(n.useState)(20),u=Object(o.a)(d,2),j=u[0],b=u[1],m=Object(n.useState)(0),O=Object(o.a)(m,2),p=O[0],f=O[1],x=Object(n.useState)(),v=Object(o.a)(x,2),g=v[0],k=v[1],S=Object(n.useState)(),_=Object(o.a)(S,2),T=_[0],C=_[1],I=Object(n.useState)(),R=Object(o.a)(I,2),M=R[0],N=R[1];return Object(n.useEffect)((function(){w({url:D.getTransaction.url,method:D.getTransaction.method,params:{page:{page:s,pageSize:j},stockId:g,createdTime:{min:T,max:M}}}).then((function(e){c(e.data.content),f(e.data.totalSize)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))}),[s,j,g,T,M]),Object(h.jsxs)("div",{children:[Object(h.jsx)(Ke,{onStockChange:function(e){k(e)},onStartChange:function(e){C(e)},onEndChange:function(e){N(e)}}),Object(h.jsx)(Qe,{type:"investor",stockId:g,startTime:T,endTime:M}),Object(h.jsx)($.a,{columns:[{title:"\u6295\u8cc7 ID",dataIndex:"investorId",key:Math.random()},{title:"\u80a1\u7968 ID",dataIndex:"stockId",key:Math.random()},{title:"\u985e\u578b",dataIndex:"method",render:function(e){return Object(h.jsx)("span",{children:e?"sell":"buy"})},key:Math.random()},{title:"\u50f9\u683c",dataIndex:"price",key:Math.random()},{title:"\u6578\u91cf",dataIndex:"quantity",key:Math.random()},{title:"\u50f9\u683c\u985e\u578b",dataIndex:"priceType",render:function(e){return Object(h.jsx)("span",{children:e?"LIMIT":"MARKET"})},key:Math.random()},{title:"\u72c0\u614b",dataIndex:"status",render:function(e){return Object(h.jsx)("span",{children:e?"FULL":"PARTIAL"})},key:Math.random()},{title:"\u6642\u9593\u9650\u5236",dataIndex:"timeRestriction",render:function(e){return Object(h.jsx)("span",{children:e?"IOC":2===e?"FOK":"ROD"})},key:Math.random()},{title:"\u6210\u4ea4\u6642\u9593",dataIndex:"createdTime",width:200,render:function(e){return Object(h.jsx)("span",{children:y()(e).format("YYYY/MM/DD HH:mm:ss")})},key:Math.random()}],dataSource:a,pagination:{pageSize:j,total:p,onChange:function(e){l(e)},onShowSizeChange:function(e,t){b(t)}},sticky:!0})]})},Je=a(14),We=a(15),Xe=a(18),Ze=a(19),$e=a(197),et=c.a.createRef(),tt=(n.Component,function(){var e,t=Object(n.useState)(void 0),a=Object(o.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(!0),s=Object(o.a)(i,2),l=s[0],d=s[1],u=Object(n.useState)([]),j=Object(o.a)(u,2),b=j[0],m=j[1],O=Object(n.useState)(1),p=Object(o.a)(O,2),f=p[0],x=p[1],v=Object(n.useState)(1),y=Object(o.a)(v,2),g=y[0],k=(y[1],Object(n.useState)(20)),S=Object(o.a)(k,2),_=S[0],C=(S[1],Object(n.useState)(0)),I=Object(o.a)(C,2),R=(I[0],I[1]),M=Object(n.useState)("\u8acb\u9078\u64c7\u60c5\u5883"),N=Object(o.a)(M,2),E=N[0],F=N[1],z=Object(n.useState)(0),L=Object(o.a)(z,2),Y=L[0],q=L[1],V=Object(n.useState)(!1),G=Object(o.a)(V,2),K=G[0],Q=(G[1],Object(n.useState)()),U=Object(o.a)(Q,2),H=U[0],J=U[1];function W(e,t){if(H){if("buyQuantity"==t)return e==H.B1;if("sellQuantity"==t)return e==H.A1}}function X(e){"\u8acb\u9078\u64c7\u60c5\u5883"==E?c&&w({url:D.postOrder.url,method:D.postOrder.method,data:{stockId:c,method:e.method,price:e.price,quantity:e.quantity,priceType:e.priceType,timeRestriction:Y,isAutoTime:K}}).then((function(e){ee(E)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)})):w({url:D.postVirtualOrder.url,method:D.postVirtualOrder.method,data:{method:e.method,price:e.price,quantity:e.quantity,priceType:e.priceType,timeRestriction:Y,virtualOrderContainerId:E}}).then((function(e){te(e.data)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))}function Z(e){"\u8acb\u9078\u64c7\u60c5\u5883"==E?w({url:D.postOrder.url,method:D.postOrder.method,data:{stockId:c,method:e.method,price:e.price,quantity:e.quantity,priceType:e.priceType,timeRestriction:Y,isAutoTime:K}}).then((function(e){ee(E)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)})):w({url:D.postVirtualOrder.url,method:D.postVirtualOrder.method,data:{method:e.method,price:e.price,quantity:e.quantity,priceType:e.priceType,timeRestriction:Y,virtualOrderContainerId:E}}).then((function(e){te(e.data)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))}function $(e){"\u8acb\u9078\u64c7\u60c5\u5883"==E?w({url:D.postOrder.url,method:D.postOrder.method,data:{stockId:c,method:e.method,price:e.price,quantity:e.quantity,priceType:e.priceType,timeRestriction:Y,subMethod:0,isAutoTime:K}}).then((function(e){ee(E)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)})):w({url:D.postVirtualOrder.url,method:D.postVirtualOrder.method,data:{method:e.method,price:e.price,quantity:e.quantity,priceType:e.priceType,timeRestriction:Y,subMethod:0,virtualOrderContainerId:E}}).then((function(e){te(e.data)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))}function ee(e){"\u8acb\u9078\u64c7\u60c5\u5883"==e?c&&w({url:D.getDisplay.url,method:D.getDisplay.method,params:{stockId:c,isGetLatest:!0}}).then((function(e){te(e.data)})):w({url:D.getVirtualOrder.url+"/"+e,method:D.getVirtualOrder.method,params:{isGetLatest:!0}}).then((function(e){te(e.data.display)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))}function te(e){var t=JSON.parse(JSON.stringify(e.fiveTickRange));t=t.sort((function(e,t){return e.price-t.price})),e.fiveTickRange.forEach((function(t){t.sellQuantity>0&&(e.A1=t.price)})),t.forEach((function(t){t.buyQuantity>0&&(e.B1=t.price)})),J(e)}return Object(n.useEffect)((function(){return w({url:D.getVirtualOrderContainer.url,method:D.getVirtualOrderContainer.method,params:{page:{page:g,pageSize:_}}}).then((function(e){var t=[];e.data.content.forEach((function(e){t.push({label:e.name,value:e.id})})),m(t),R(e.data.totalSize)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)})),l&&(e=setInterval((function(){ee(E)}),1e3)),function(){return clearInterval(e)}}),[l,c]),Object(h.jsxs)("div",{className:"w-10/12 mx-auto",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(B.a,{value:E,style:{width:120,marginBottom:"10px",marginRight:"10px"},onChange:function(t){d("\u8acb\u9078\u64c7\u60c5\u5883"===t),clearInterval(e),F(t),ee(t)},options:[{label:"\u8acb\u9078\u64c7\u60c5\u5883",value:"\u8acb\u9078\u64c7\u60c5\u5883"}].concat(Object(Te.a)(b))}),Object(h.jsx)(be.a,{min:1,defaultValue:f,style:{marginRight:"10px"},onChange:function(e){x(e)}}),Object(h.jsx)(B.a,{value:Y,style:{width:120,marginBottom:"10px",marginRight:"10px"},onChange:function(e){q(e)},options:[{label:"ROD",value:0},{label:"IOC",value:1},{label:"FOK",value:2}]}),"\u8acb\u9078\u64c7\u60c5\u5883"==E?Object(h.jsx)(P,{style:{width:120},onChange:function(e){r(e)}}):Object(h.jsx)(T.a,{type:"primary",danger:!0,onClick:function(){w({url:D.resetVirtualOrder.url+"/"+E,method:D.resetVirtualOrder.method,data:{id:1,isReset:!0}}).then((function(){ee(E)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},children:"Reset"})]}),Object(h.jsxs)("div",{style:{display:"\u8acb\u9078\u64c7\u60c5\u5883"!==E||c?void 0:"none"},children:[Object(h.jsxs)("div",{className:"flex mb-1 items-center",children:[Object(h.jsx)(T.a,{className:"w-full",style:{background:"lightpink",borderColor:"lightpink"},onClick:function(){Z({method:0,price:0,quantity:f,priceType:0})},children:"\xa0"}),Object(h.jsx)("div",{className:"bg-blue-300 text-center w-1/4 mx-1 h-full py-1.5",children:"\u5e02\u50f9"}),Object(h.jsx)(T.a,{className:"w-full py-3",style:{background:"lightgreen",borderColor:"lightgreen"},onClick:function(){Z({method:1,price:0,quantity:f,priceType:0})},children:"\xa0"})]}),Object(h.jsx)("hr",{className:"my-2"}),Object(h.jsxs)("div",{className:"flex mb-1 items-center",children:[Object(h.jsx)(T.a,{className:"w-1/2 mr-1",style:{background:"none",border:"none"},children:"\u53d6\u6d88\u55ae"}),Object(h.jsx)(T.a,{className:"w-1/2",style:{background:"none",border:"none"},children:"\u9650\u50f9\u55ae"}),Object(h.jsx)("div",{className:"text-center w-1/4 mx-1 h-full py-1.5",children:"\xa0"}),Object(h.jsx)(T.a,{className:"w-1/2 mr-1",style:{background:"none",border:"none"},children:"\u9650\u50f9\u55ae"}),Object(h.jsx)(T.a,{className:"w-1/2",style:{background:"none",border:"none"},children:"\u53d6\u6d88\u55ae"})]}),H&&H.tickRange.map((function(e,t){return Object(h.jsxs)("div",{className:"flex mb-1 items-center",children:[Object(h.jsx)(T.a,{className:"w-1/2 mr-1",style:{background:"#ffb6c180",borderColor:"lightpink"},onClick:function(){$({method:0,price:e.price,quantity:f,priceType:1})},children:e.investorBuyQuantity||" "}),Object(h.jsx)(T.a,{className:"w-1/2",style:{background:W(e.price,"buyQuantity")?"lightcoral":"lightpink",borderColor:"lightpink"},onClick:function(){X({method:0,price:e.price,quantity:f,priceType:1})},children:e.buyQuantity>0?e.buyQuantity:" "}),Object(h.jsx)("div",{className:(H&&H.matchPrice==e.price?"bg-yellow-400":"bg-yellow-200")+" text-center w-1/4 mx-1 h-full py-1.5",children:e.price}),Object(h.jsx)(T.a,{className:"w-1/2 mr-1",style:{background:W(e.price,"sellQuantity")?"lightseagreen":"lightgreen",borderColor:"lightgreen"},onClick:function(){X({method:1,price:e.price,quantity:f,priceType:1})},children:e.sellQuantity>0?e.sellQuantity:" "}),Object(h.jsx)(T.a,{className:"w-1/2",style:{background:"#90ee9080",borderColor:"lightgreen"},onClick:function(){$({method:1,price:e.price,quantity:f,priceType:1})},children:e.investorSellQuantity||" "})]},t)}))]})]})}),at=a(148),nt=B.a.Option,ct=function(){var e=Object(n.useState)(5),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(30),i=Object(o.a)(r,2),s=i[0],l=i[1],d=Object(n.useState)({xAxis:[],yAxis:[]}),u=Object(o.a)(d,2),j=u[0],b=u[1],m=Object(n.useState)(!1),O=Object(o.a)(m,2),p=O[0],f=O[1],x=Object(n.useState)(!1),y=Object(o.a)(x,2),k=y[0],S=y[1],C=Object(n.useState)(!1),w=Object(o.a)(C,2),D=w[0],I=w[1],A=Object(n.useState)(-1),R=Object(o.a)(A,2),M=R[0],N=R[1],E=Object(n.useState)([]),F=Object(o.a)(E,2),P=F[0],z=F[1],L=Object(n.useState)([]),Y=Object(o.a)(L,2),q=Y[0],V=Y[1],G=Object(n.useState)([]),Q=Object(o.a)(G,2),U=Q[0],H=Q[1],J=Object(n.useState)("START"),W=Object(o.a)(J,2),X=W[0],Z=W[1],$=Object(n.useState)(1),ee=Object(o.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(0),ce=Object(o.a)(ne,2),re=ce[0],ie=ce[1],se=Object(n.useState)(null),le=Object(o.a)(se,2),oe=le[0],de=le[1],ue=Object(n.useState)(1),je=Object(o.a)(ue,2),be=je[0],he=je[1],me=Object(n.useState)(1),Oe=Object(o.a)(me,2),pe=Oe[0],fe=Oe[1],xe=Object(n.useState)(100),ve=Object(o.a)(xe,2),ye=ve[0],ge=ve[1],ke=Object(n.useState)(1),Se=Object(o.a)(ke,2),_e=Se[0],Te=Se[1],Ce=Object(n.useState)(0),we=Object(o.a)(Ce,2),De=we[0],Ie=we[1],Ae=Object(n.useState)([]),Re=Object(o.a)(Ae,2),Me=(Re[0],Re[1]),Ne=1001,Ee=[],Be=[],Fe=function(e,t){de(setInterval((function(){e>=P.length?(N(3),Pe(),S(!1),alert("done")):k?(t.push(q[e]),ie(e),b({xAxis:P,yAxis:t}),e++,console.log(e,re,P.length)):Pe(),N(1),Z("PAUSE")}),3))},Pe=function(){clearInterval(oe),de(null)},ze=function(e){ae(e),Ye(e)},Le=function(){I(!0),ae(1),he(1),fe(1),ge(100),Te(1),Ie(-q[re]),Ye(te)},Ye=function(e){var t=q[re],n=ye,c=a/100,r=s/100,i=_e-U[re],l=pe,o=0;switch(e){case 1:o=t;break;case 2:ge(Math.round(t*Math.exp(c*i),2)),o=0;break;case 3:case 4:o=qe(t,n,c,r,i,7-2*e);break;case 5:case 6:o=Ve(t,n,c,r,i,11-2*e)}Ie(-be*o*l)},qe=function(e,t,a,n,c,r){var i=n*Math.sqrt(c),s=(Math.log(e/t)+(a+.5*Math.pow(n,2))*c)/i,l=s-i,o=Ge(s),d=Ge(l);return r*(e*o-t*Math.exp(-a*c)*d)},Ve=function(e,t,a,n,c,r){var i=n*Math.sqrt(c),s=(Math.log(e/t)+(a-.5*Math.pow(n,2))*c)/i,l=Ge(s);return Math.exp(-a*c)*l},Ge=function(e){var t=Math.abs(e);if(t>6)return 1;var a=1/(1+.2316419*t),n=((((1.330274429*a-1.821255978)*a+1.781477937)*a-.356563782)*a+.31938153)*a;return n=1-.3989423*Math.exp(e/2*-e)*n,e<0&&(n=1-n),n};return Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsxs)("div",{className:"w-1/4",children:[Object(h.jsxs)("div",{className:"border p-5",children:[Object(h.jsx)("h6",{children:"Stock Properties"}),Object(h.jsxs)("div",{className:"flex items-center mb-2",children:[Object(h.jsx)("span",{className:"w-2/3",children:"Interest rate (%)"}),Object(h.jsx)(_.a,{disabled:p,type:"number",className:"w-30",value:a,onChange:function(e){c(e.target.value)}})]}),Object(h.jsxs)("div",{className:"flex items-center mb-2",children:[Object(h.jsx)("span",{className:"w-2/3",children:"Volatility (%)"}),Object(h.jsx)(_.a,{disabled:p,type:"number",className:"w-30",value:s,onChange:function(e){l(e.target.value)}})]}),Object(h.jsx)(T.a,{disabled:p,onClick:function(){return function(){for(var e=a/100,t=s/100,n=0;n<Ne;n++)Ee[n]=n/1e3;H(Ee),Be[0]=100;for(var c=1;c<Ne;c++){var r=Math.random(),i=Math.random(),l=Math.sqrt(-2*Math.log(r))*Math.cos(2*i*Math.PI),o=.001*(e-.5*Math.pow(t,2))+t*Math.sqrt(.001)*l;Be[c]=Be[c-1]*Math.exp(o)}console.log("S",Be),console.log("t",U),z(Ee),V(Be),f(!0),S(!0),N(0),I(!0),Le()}()},className:"w-full",children:"Set"})]}),Object(h.jsxs)("div",{className:"flex p-5",children:[Object(h.jsx)(T.a,{disabled:!p,onClick:function(){return Pe(),f(!1),S(!1),N(-1),Z("START"),void b({})},className:"w-1/2",type:"danger",children:"Reset"}),Object(h.jsx)(T.a,{disabled:!p||3==M,onClick:function(){return function(){var e=[],t=re;switch(M){case 0:I(!1),Fe(t,e);break;case 1:Pe(),S(!1),N(2),Z("CONTINUE"),S(!0),I(!0),Le();break;case 2:I(!1),e=j.yAxis,Fe(t,e)}}()},className:"w-1/2",type:"primary",children:X})]}),Object(h.jsxs)("div",{className:"border p-5",children:[Object(h.jsx)("h6",{children:"Place Order"}),Object(h.jsxs)(at.a.Group,{disabled:!D,className:"mb-2",onChange:function(e){he(e.target.value),Ye(te)},value:be,children:[Object(h.jsx)(at.a,{value:1,children:"Long"}),Object(h.jsx)(at.a,{value:-1,children:"Short"})]}),Object(h.jsx)(T.a,{disabled:!D,type:1==te?"primary":"default",onClick:function(){return ze(1)},className:"w-full mb-2",children:"Stock"}),Object(h.jsx)(T.a,{disabled:!D,type:2==te?"primary":"default",onClick:function(){return ze(2)},className:"w-full mb-2",children:"Futures"}),Object(h.jsxs)("div",{className:"flex mb-2",children:[Object(h.jsx)(T.a,{disabled:!D,type:3==te?"primary":"default",onClick:function(){return ze(3)},className:"w-1/2",children:"Vanilla Call"}),Object(h.jsx)(T.a,{disabled:!D,type:4==te?"primary":"default",onClick:function(){return ze(4)},className:"w-1/2",children:"Vanilla Put"})]}),Object(h.jsxs)("div",{className:"flex mb-2",children:[Object(h.jsx)(T.a,{disabled:!D,type:5==te?"primary":"default",onClick:function(){return ze(5)},className:"w-1/2",children:"Binary Call"}),Object(h.jsx)(T.a,{disabled:!D,type:6==te?"primary":"default",onClick:function(){return ze(6)},className:"w-1/2",children:"Binary Put"})]}),Object(h.jsxs)("div",{className:"flex items-center",children:[Object(h.jsx)("span",{className:"w-1/3",children:"Volume"}),Object(h.jsx)(_.a,{disabled:!D,type:"number",className:"w-2/3",value:pe,onChange:function(e){fe(e.target.value),Ye(te)}})]}),Object(h.jsxs)("div",{className:"flex items-center",style:{opacity:1==te?0:1},children:[Object(h.jsx)("span",{className:"w-1/3",children:"Strike"}),Object(h.jsx)(_.a,{disabled:1==te||2==te||!D,type:"number",className:"w-2/3",value:ye,onChange:function(e){ge(e.target.value),Ye(te)}})]}),Object(h.jsxs)("div",{className:"flex items-center",style:{opacity:1==te?0:1},children:[Object(h.jsx)("span",{className:"w-1/3",children:"Maturity"}),Object(h.jsxs)(B.a,{disabled:1==te||!D,className:"w-2/3",defaultValue:"1",onChange:function(e){Te(e),Ye(te)},children:[Object(h.jsx)(nt,{disabled:P[re]>=.2,value:"0.2",children:"0.2"}),Object(h.jsx)(nt,{disabled:P[re]>=.4,value:"0.4",children:"0.4"}),Object(h.jsx)(nt,{disabled:P[re]>=.6,value:"0.6",children:"0.6"}),Object(h.jsx)(nt,{disabled:P[re]>=.8,value:"0.8",children:"0.8"}),Object(h.jsx)(nt,{value:"1",children:"1"})]})]}),Object(h.jsxs)("div",{className:"flex items-center",children:[Object(h.jsx)("span",{className:"w-1/3",children:"Cash Flow"}),Object(h.jsx)(_.a,{disabled:!0,type:"number",className:"w-2/3",value:De})]}),Object(h.jsx)(T.a,{disabled:!D,className:"w-full mt-3",type:"primary",onClick:function(){return function(){var e=e+1,t=e,n=[];n[1]=t,n[2]=P[re],n[3]=te;var c,r,i=[];if(1==te)i[t]=Ne;else{r=_e,n[4]=r,c=Math.round(1e3*r+1),i[t]=c;var l=ye;n[5]=l}var o=pe;n[6]=o*be;var d=[];d[t]=-De,n[7]=-De,n[8]=-De,n[9]=0;for(var u=a/100,j=.001,b=[],h=0;h<=Ne-re;h++)b[h+1]=h*j;for(var m=[],O=re;O<=Ne;O++)m[O]=m[O]+De*Math.exp(u*b[O-re+1]);var p=[];if(1==te)Ie(be*q[Ne]*o),m[Ne]=m[Ne]+De,p[t][Ne]=De-d[t];else{for(var f=0;f<=Ne-c;f++)b[f+1]=f*j;switch(te){case 2:Ie(be*(q[c]-K)*o);break;case 3:Ie(be*Math.max(q[c]-K,0)*o);break;case 4:Ie(be*Math.max(K-q[c],0)*o);break;case 5:Ie(be*(q[c]>K)*o);break;case 6:Ie(be*(K>q[c])*o)}for(var x=c;x<=Ne;x++)m[x]=m[x]+De*Math.exp(u*b[x-c+1]),p[t][x]=De-d[t]}var y=[];if(1==te)for(var g=re;g<=1e3;g++)y[t][g]=be*q[g]*o,p[t][g]=y[t][g]-d[t];else{for(var k=0;k<=c-1-re;k++)tau[k+1]=r-k*j;for(var S=re;S<=c-1;S++)ind[S-re+1]=S;switch(v=s/100,te){case 2:for(var _=1;_<=c-re;_++)price=q[ind[_]]-K*Math.exp(-u*tau[_]);break;case 3:for(var T=1;T<=c-re;T++)price=qe(q[ind[T]],K,u,v,tau[T],1);break;case 4:for(var C=1;C<=c-re;C++)price=qe(q[ind[C]],K,u,v,tau[C],-1);break;case 5:for(var w=1;w<=c-re;w++)price=Ve(q[ind[w]],K,u,v,tau[w],1);break;case 6:for(var D=1;D<=c-re;D++)price=Ve(q[ind[D]],K,u,v,tau[D],-1)}for(var I=re;I<=c-1;I++)y[t][I]=be*price[I-re+1]*o,p[t][I]=y[t][I]-d[t]}for(var A=1;A<=Ne;A++)for(var R=1;R<=e;R++)profit[A]=profit[A]+y[A]+m[A];Me(m[re])}()},children:"Place Order"})]})]}),Object(h.jsx)("div",{className:"w-3/4",children:Object(h.jsx)(g,{data:j})})]})},rt=a(338),it=B.a.Option,st=function(e){var t=e.isVisible,a=e.setIsVisible,c=e.initVal,r=e.reload,i=S.a.useForm(),l=Object(o.a)(i,1)[0];return console.log(c),Object(n.useEffect)((function(){c&&l.setFieldsValue(c)}),[c]),Object(h.jsx)(R.a,{title:"".concat(c?"\u4fee\u6539":"\u65b0\u589e","\u80a1\u7968"),visible:t,cancelText:"\u53d6\u6d88",okText:"\u78ba\u8a8d",onCancel:function(){l.resetFields(),a(!1)},onOk:function(){l.submit()},children:Object(h.jsxs)(S.a,{form:l,layout:"vertical",onFinish:function(e){console.log(e);var t=c?"putStock":"postStock";console.log({url:D[t].url,method:D[t].method}),w({url:D[t].url,method:D[t].method,data:Object(s.a)(Object(s.a)({},e),{},{groupId:[]})}).then((function(){l.resetFields(),a(!1),r(Math.random())})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},children:[Object(h.jsx)(S.a.Item,{label:"ID",name:"id",rules:[{required:!0,message:"Require"}],children:Object(h.jsx)(_.a,{})}),Object(h.jsx)(S.a.Item,{label:"\u6536\u76e4\u50f9\u683c",name:"closedPrice",rules:[{required:!0,message:"Require"}],children:Object(h.jsx)(be.a,{type:"number",className:"w-full",min:0})}),Object(h.jsx)(S.a.Item,{label:"\u6f32\u8dcc\u5e45(%)",name:"priceLimit",rules:[{required:!0,message:"Require"}],children:Object(h.jsx)(be.a,{type:"number",className:"w-full",min:0})}),Object(h.jsx)(S.a.Item,{label:"\u6700\u8fd1\u50f9\u683c",name:"currentPrice",rules:[{required:!0,message:"Require"}],children:Object(h.jsx)(be.a,{type:"number",className:"w-full",min:0})}),Object(h.jsx)(S.a.Item,{label:"\u985e\u5225",name:"type",rules:[{required:!0,message:"Require"}],children:Object(h.jsxs)(B.a,{className:"w-full",children:[Object(h.jsx)(it,{value:0,children:"\u73fe\u80a1"}),Object(h.jsx)(it,{value:1,children:"ETF"}),Object(h.jsx)(it,{value:2,children:"\u6b0a\u8b49"})]})})]})})},lt=["\u73fe\u80a1","ETF","\u6b0a\u8b49"],ot=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(0),i=Object(o.a)(r,2),l=i[0],d=i[1],u=Object(n.useState)(1),j=Object(o.a)(u,2),b=j[0],m=j[1],O=Object(n.useState)(20),p=Object(o.a)(O,2),f=p[0],x=p[1],v=Object(n.useState)({}),g=Object(o.a)(v,2),k=g[0],C=g[1],I=Object(n.useState)([]),R=Object(o.a)(I,2),M=R[0],N=R[1],E=Object(n.useState)(!1),B=Object(o.a)(E,2),F=B[0],P=B[1],z=Object(n.useState)(0),L=Object(o.a)(z,2),Y=L[0],q=L[1],V=Object(n.useState)(),G=Object(o.a)(V,2),K=G[0],Q=G[1];function U(e){w({url:D.deleteStock.url,method:D.deleteStock.method,data:{id:e}}).then((function(){q(Math.random()),N([])})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))}return Object(n.useEffect)((function(){w({url:D.getStock.url,method:D.getStock.method,params:Object(s.a)({page:{page:b,pageSize:f}},k)}).then((function(e){c(e.data.content),d(e.data.totalSize)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))}),[b,f,k,Y]),Object(n.useEffect)((function(){F||Q(null)}),[F]),Object(h.jsxs)("div",{className:"p-4",children:[Object(h.jsx)(st,{initVal:K,isVisible:F,setIsVisible:P,reload:q}),Object(h.jsxs)(S.a,{layout:"vertical",className:"grid grid-cols-3 gap-x-4",onFinish:function(e){e.createdTime?C(Object(s.a)(Object(s.a)({},e),{},{createdTime:{min:e.createdTime[0],max:e.createdTime[1]}})):C(e)},children:[Object(h.jsx)(S.a.Item,{label:"ID",name:"id",children:Object(h.jsx)(_.a,{})}),Object(h.jsx)(S.a.Item,{label:"\u6536\u76e4\u50f9\u683c",name:"closedPrice",children:Object(h.jsxs)(_.a.Group,{className:"grid grid-cols-11 gap-x-4",children:[Object(h.jsx)(S.a.Item,{name:["closedPrice","min"],noStyle:!0,children:Object(h.jsx)(_.a,{type:"number",min:0,className:"col-span-5",placeholder:"Minimum"})}),Object(h.jsx)("span",{className:"p-0 col-span-1 text-center",children:"~"}),Object(h.jsx)(S.a.Item,{name:["closedPrice","max"],noStyle:!0,children:Object(h.jsx)(_.a,{type:"number",min:0,className:"col-span-5",placeholder:"Maximum"})})]})}),Object(h.jsx)(S.a.Item,{label:"\u6f32\u8dcc\u5e45",name:"priceLimit",children:Object(h.jsxs)(_.a.Group,{className:"grid grid-cols-11 gap-x-4",children:[Object(h.jsx)(S.a.Item,{name:["priceLimit","min"],noStyle:!0,children:Object(h.jsx)(_.a,{type:"number",min:0,className:"col-span-5",placeholder:"Minimum"})}),Object(h.jsx)("span",{className:"p-0 col-span-1 text-center",children:"~"}),Object(h.jsx)(S.a.Item,{name:["priceLimit","max"],noStyle:!0,children:Object(h.jsx)(_.a,{type:"number",min:0,className:"col-span-5",placeholder:"Maximum"})})]})}),Object(h.jsx)(S.a.Item,{label:"\u6700\u8fd1\u50f9\u683c",name:"currentPrice",children:Object(h.jsxs)(_.a.Group,{className:"grid grid-cols-11 gap-x-4",children:[Object(h.jsx)(S.a.Item,{name:["currentPrice","min"],noStyle:!0,children:Object(h.jsx)(_.a,{type:"number",min:0,className:"col-span-5",placeholder:"Minimum"})}),Object(h.jsx)("span",{className:"p-0 col-span-1 text-center",children:"~"}),Object(h.jsx)(S.a.Item,{name:["currentPrice","max"],noStyle:!0,children:Object(h.jsx)(_.a,{type:"number",min:0,className:"col-span-5",placeholder:"Maximum"})})]})}),Object(h.jsx)(S.a.Item,{label:"\u5efa\u7acb\u6642\u9593",name:"createdTime",children:Object(h.jsx)(ue.a.RangePicker,{className:"w-full"})}),Object(h.jsx)(S.a.Item,{label:" ",children:Object(h.jsxs)("div",{className:"grid grid-cols-2 justify-end gap-4",children:[Object(h.jsx)(T.a,{type:"primary",htmlType:"submit",children:"\u641c\u5c0b"}),Object(h.jsx)(T.a,{htmlType:"reset",children:"\u6e05\u7a7a"})]})})]}),Object(h.jsxs)(rt.b,{size:"small",className:"mb-4",children:[Object(h.jsx)(T.a,{type:"primary",onClick:function(){return P(!0)},children:"\u65b0\u589e\u80a1\u7968"}),Object(h.jsx)(T.a,{type:"primary",danger:!0,disabled:!M.length,onClick:function(){return U(M)},children:"\u522a\u9664\u6240\u9078\u80a1\u7968"})]}),Object(h.jsx)($.a,{dataSource:a,rowKey:"id",columns:[{title:"ID",dataIndex:"id"},{title:"\u6700\u8fd1\u50f9\u683c",dataIndex:"currentPrice"},{title:"\u6536\u76e4\u50f9\u683c",dataIndex:"closedPrice"},{title:"\u6f32\u8dcc\u5e45(%)",dataIndex:"priceLimit"},{title:"\u985e\u5225",dataIndex:"type",render:function(e){return Object(h.jsx)("span",{children:lt[e]})}},{title:"\u66f4\u65b0\u6642\u9593",dataIndex:"updatedTime",width:200,render:function(e){return Object(h.jsx)("span",{children:y()(e).format("YYYY/MM/DD HH:mm:ss")})}},{title:"\u5efa\u7acb\u6642\u9593",dataIndex:"createdTime",width:200,render:function(e){return Object(h.jsx)("span",{children:y()(e).format("YYYY/MM/DD HH:mm:ss")})}},{title:"\u4fee\u6539 / \u522a\u9664",render:function(e,t){return Object(h.jsxs)(rt.b,{size:"small",children:[Object(h.jsx)(T.a,{type:"text",shape:"circle",icon:Object(h.jsx)(ee.a,{}),onClick:function(){Q(t),P(!0)}}),Object(h.jsx)(T.a,{type:"text",shape:"circle",icon:Object(h.jsx)(te.a,{}),onClick:function(){U([e.id])}})]})}}],rowSelection:{onChange:function(e){N(e)}},pagination:{pageSize:f,total:l,onChange:function(e){m(e)},onShowSizeChange:function(e,t){x(t)}}})]})},dt=function(e){var t=e.visible,a=e.setVisible,c=e.defaultValue,r=e.reset,i=e.permission,l=void 0===i?[]:i,d=S.a.useForm(),u=Object(o.a)(d,1)[0];return Object(n.useEffect)((function(){console.log(c,"de"),c&&u.setFieldsValue(c)}),[c]),Object(h.jsx)(R.a,{title:c?"\u4fee\u6539\u89d2\u8272":"\u65b0\u589e\u89d2\u8272",visible:t,onOk:function(){u.submit()},onCancel:function(){u.resetFields(),a(!1)},okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",children:Object(h.jsxs)(S.a,{name:"basic",layout:"vertical",form:u,onFinish:function(e){c?w({url:D.putRole.url,method:D.putRole.method,data:Object(s.a)(Object(s.a)({},e),{},{id:c.id})}).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)})).finally((function(){r(Math.random()),u.resetFields(),a(!1)})):w({url:D.postRole.url,method:D.postRole.method,data:e}).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)})).finally((function(){r(Math.random()),u.resetFields(),a(!1)})),console.log(e)},initialValues:{remember:!0},children:[Object(h.jsx)(S.a.Item,{label:"\u89d2\u8272\u540d\u7a31",name:"name",rules:[{required:!0,message:"\u8acb\u8f38\u5165\u89d2\u8272"}],children:Object(h.jsx)(_.a,{placeholder:"\u8acb\u8f38\u5165\u89d2\u8272\u540d\u7a31"})}),Object(h.jsx)(S.a.Item,{label:"\u6bcf\u65e5\u8acb\u6c42\u4e0a\u9650",name:"totalApiTime",rules:[{required:!0,message:"\u8acb\u8f38\u5165\u4e0a\u9650"},{validator:function(e,t){return t>0?Promise.resolve():Promise.reject("\u4e0d\u53ef\u5c0f\u65bc1")}}],children:Object(h.jsx)(_.a,{type:"number",placeholder:"\u8acb\u8f38\u5165\u6578\u5b57"})}),Object(h.jsx)(S.a.Item,{label:"\u53ef\u700f\u89bd\u9801\u9762",name:"permissions",rules:[{required:!0,message:"\u8acb\u9078\u64c7"}],children:Object(h.jsx)(B.a,{mode:"multiple",placeholder:"\u8acb\u9078\u64c7",options:l.map((function(e){return{value:e,label:e}}))})})]})})},ut=R.a.confirm,jt=M.a.Title,bt=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),i=Object(o.a)(r,2),l=i[0],d=i[1],u=Object(n.useState)(1),j=Object(o.a)(u,2),b=j[0],m=j[1],O=Object(n.useState)(20),p=Object(o.a)(O,2),f=p[0],x=p[1],v=Object(n.useState)(0),g=Object(o.a)(v,2),k=g[0],S=g[1],C=Object(n.useState)(!1),I=Object(o.a)(C,2),R=I[0],M=I[1],N=Object(n.useState)(0),E=Object(o.a)(N,2),B=E[0],F=E[1],P=Object(n.useState)(),z=Object(o.a)(P,2),L=z[0],Y=z[1],q=Object(n.useState)([]),V=Object(o.a)(q,2),G=V[0],K=V[1],Q=Object(n.useState)({}),U=Object(o.a)(Q,2),H=U[0],J=U[1];function W(e){ut({title:"\u78ba\u5b9a\u8981\u522a\u9664?",icon:Object(h.jsx)(he.a,{}),content:"\u522a\u9664\u5f8c\u5c07\u7121\u6cd5\u5fa9\u539f",okText:"\u78ba\u5b9a",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){w({url:D.deleteRole.url,method:D.deleteRole.method,data:{id:e}}).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)})).finally((function(){K([]),F(Math.random())}))}})}Object(n.useEffect)((function(){w({url:D.getRolePermission.url,method:D.getRolePermission.method}).then((function(e){console.log(e.data),d(e.data)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))}),[]),Object(n.useEffect)((function(){w({url:D.getRole.url,method:D.getRole.method,params:Object(s.a)(Object(s.a)({},H),{},{page:{page:b,pageSize:f}})}).then((function(e){console.log(e.data),c(e.data.content),S(e.data.totalSize)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))}),[b,f,B]);var ae={selectedRowKeys:G,onChange:function(e,t){K(t.map((function(e){return e.id})))},preserveSelectedRowKeys:!1};return Object(h.jsxs)("div",{className:"px-10",children:[Object(h.jsx)(dt,{visible:R,setVisible:M,reset:F,defaultValue:L,permission:l}),Object(h.jsx)(jt,{level:5,children:"\u689d\u4ef6\u641c\u5c0b"}),Object(h.jsxs)(X.a,{className:"mb-4 border border-gray-200 p-4",justify:"space-around",align:"bottom",children:[Object(h.jsxs)(Z.a,{span:6,children:["\u540d\u7a31",Object(h.jsx)(_.a,{placeholder:"\u8f38\u5165\u540d\u7a31",size:"middle",onChange:function(e){J(Object(s.a)(Object(s.a)({},H),{},{name:e.target.value}))}})]}),Object(h.jsx)(Z.a,{span:2,children:Object(h.jsx)(T.a,{onClick:function(){F(Math.random())},children:"\u641c\u5c0b"})})]}),Object(h.jsxs)("div",{className:"flex justify-end my-5",children:[Object(h.jsx)(T.a,{disabled:!G.length,type:"default",className:"mr-4",onClick:function(){W(G)},children:"\u522a\u9664\u52fe\u9078"}),Object(h.jsx)(T.a,{type:"primary",onClick:function(){Y(null),M(!0)},children:"\u65b0\u589e\u89d2\u8272"})]}),Object(h.jsx)($.a,{rowKey:"id",rowSelection:Object(s.a)({type:"checkbox"},ae),columns:[{title:"\u540d\u7a31",dataIndex:"name"},{title:"\u6bcf\u65e5\u8acb\u6c42\u4e0a\u9650",dataIndex:"totalApiTime"},{title:"\u5141\u8a31\u9801\u9762",dataIndex:"permissions",render:function(e){return Object(h.jsx)("span",{className:"whitespace-pre-line",children:e.reduce((function(e,t){return e+t.id+"\n"}),"")})}},{title:"\u5275\u5efa\u6642\u9593",dataIndex:"createdTime",width:200,render:function(e){return Object(h.jsx)("span",{children:y()(e).format("YYYY/MM/DD HH:mm:ss")})}},{title:"\u66f4\u65b0\u6642\u9593",dataIndex:"updatedTime",width:200,render:function(e){return Object(h.jsx)("span",{children:y()(e).format("YYYY/MM/DD HH:mm:ss")})}},{title:"\u72c0\u614b",dataIndex:"action",render:function(e,t){return Object(h.jsxs)("span",{children:[Object(h.jsx)(T.a,{type:"link",shape:"circle",className:"inline-flex justify-center items-center mr-2",icon:Object(h.jsx)(ee.a,{}),onClick:function(){Y({id:t.id,name:t.name,totalApiTime:t.totalApiTime,permissions:t.permissions.map((function(e){return e.id}))}),M(!0)}}),Object(h.jsx)(T.a,{type:"link",shape:"circle",className:"inline-flex justify-center items-center",onClick:function(){return W([t.id])},icon:Object(h.jsx)(te.a,{})})]})}}],dataSource:a,pagination:{pageSize:f,total:k,onChange:function(e){m(e)},onShowSizeChange:function(e,t){x(t)}},sticky:!0})]})},ht=["restApiTime"],mt=function(e){var t=e.visible,a=e.setVisible,c=e.defaultValue,r=e.reset,i=e.role,d=void 0===i?[]:i,u=S.a.useForm(),j=Object(o.a)(u,1)[0];return Object(n.useEffect)((function(){c&&j.setFieldsValue(c)}),[c]),Object(h.jsx)(R.a,{title:c?"\u4fee\u6539\u6b0a\u9650":"\u65b0\u589e\u6b0a\u9650",visible:t,onOk:function(){j.submit()},onCancel:function(){j.resetFields(),a(!1)},okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",children:Object(h.jsxs)(S.a,{name:"basic",layout:"vertical",form:j,onFinish:function(e){var t=e.restApiTime,n=Object(l.a)(e,ht);c?w({url:D.putInvestor.url,method:D.putInvestor.method,data:Object(s.a)({id:c.id,restApiTime:parseInt(t)},n)}).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)})).finally((function(){r(Math.random()),j.resetFields(),a(!1)})):w({url:D.postInvestor.url,method:D.postInvestor.method,data:Object(s.a)({restApiTime:parseInt(t)},n)}).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)})).finally((function(){r(Math.random()),j.resetFields(),a(!1)}))},initialValues:{remember:!0},children:[Object(h.jsx)(S.a.Item,{label:"\u5e33\u6236\u540d\u7a31",name:"account",rules:[{required:!0,message:"\u8acb\u8f38\u5165\u5e33\u6236\u540d\u7a31"}],children:Object(h.jsx)(_.a,{placeholder:"\u8acb\u8f38\u5165\u5e33\u6236\u540d\u7a31"})}),Object(h.jsx)(S.a.Item,{label:"\u5bc6\u78bc",name:"password",rules:[{required:!c,message:"\u8acb\u8f38\u5165\u5bc6\u78bc"}],children:Object(h.jsx)(_.a,{placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc"})}),Object(h.jsx)(S.a.Item,{label:"\u5269\u9918\u8acb\u6c42\u6b21\u6578",name:"restApiTime",rules:[{required:!!c,message:"\u8acb\u8f38\u5165\u6b21\u6578"}],style:{display:c?void 0:"none"},children:Object(h.jsx)(_.a,{type:"number",placeholder:"\u8acb\u8f38\u5165\u6578\u5b57"})}),Object(h.jsx)(S.a.Item,{label:"\u89d2\u8272",name:"roleId",rules:[{required:!!c,message:"\u8acb\u9078\u64c7"}],style:{display:c?void 0:"none"},children:Object(h.jsx)(B.a,{placeholder:"\u8acb\u9078\u64c7",options:null===d||void 0===d?void 0:d.map((function(e){return{value:e.id,label:e.name}}))})})]})})},Ot=R.a.confirm,pt=(M.a.Title,{stock:ot,"investor-management":function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),i=Object(o.a)(r,2),l=i[0],d=i[1],u=Object(n.useState)(1),j=Object(o.a)(u,2),b=j[0],m=j[1],O=Object(n.useState)(20),p=Object(o.a)(O,2),f=p[0],x=p[1],v=Object(n.useState)(0),g=Object(o.a)(v,2),k=g[0],S=g[1],_=Object(n.useState)(!1),C=Object(o.a)(_,2),I=C[0],R=C[1],M=Object(n.useState)(0),N=Object(o.a)(M,2),E=N[0],B=N[1],F=Object(n.useState)(),P=Object(o.a)(F,2),z=P[0],L=P[1],Y=Object(n.useState)([]),q=Object(o.a)(Y,2),V=q[0],G=q[1];function K(e){Ot({title:"\u78ba\u5b9a\u8981\u522a\u9664?",icon:Object(h.jsx)(he.a,{}),content:"\u522a\u9664\u5f8c\u5c07\u7121\u6cd5\u5fa9\u539f",okText:"\u78ba\u5b9a",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){w({url:D.deleteInvestor.url,method:D.deleteInvestor.method,data:{id:e}}).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)})).finally((function(){G([]),B(Math.random())}))}})}Object(n.useEffect)((function(){w({url:D.getRole.url,method:D.getRole.method}).then((function(e){console.log(e.data),d(e.data.content)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))}),[]),Object(n.useEffect)((function(){w({url:D.getInvestor.url,method:D.getInvestor.method,params:{page:{page:b,pageSize:f}}}).then((function(e){console.log(e.data),c(e.data.content),S(e.data.totalSize)})).catch((function(e){var t;A(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))}),[b,f,E]);var Q={selectedRowKeys:V,onChange:function(e,t){G(t.map((function(e){return e.id})))},preserveSelectedRowKeys:!1};return Object(h.jsxs)("div",{className:"px-10",children:[Object(h.jsx)(mt,{visible:I,setVisible:R,reset:B,defaultValue:z,role:l}),Object(h.jsxs)("div",{className:"flex justify-end my-5",children:[Object(h.jsx)(T.a,{disabled:!V.length,type:"default",className:"mr-4",onClick:function(){return K(V)},children:"\u522a\u9664\u52fe\u9078"}),Object(h.jsx)(T.a,{type:"primary",onClick:function(){L(null),R(!0)},children:"\u65b0\u589e\u5e33\u6236"})]}),Object(h.jsx)($.a,{rowKey:"id",rowSelection:Object(s.a)({type:"checkbox"},Q),columns:[{title:"\u540d\u7a31",dataIndex:"account"},{title:"\u6191\u8b49",dataIndex:"token"},{title:"\u5269\u9918\u8acb\u6c42\u6b21\u6578",dataIndex:"restApiTime"},{title:"\u89d2\u8272",dataIndex:"role",render:function(e){return e.name}},{title:"\u5275\u5efa\u6642\u9593",dataIndex:"createdTime",width:200,render:function(e){return Object(h.jsx)("span",{children:y()(e).format("YYYY/MM/DD HH:mm:ss")})}},{title:"\u66f4\u65b0\u6642\u9593",dataIndex:"updatedTime",width:200,render:function(e){return Object(h.jsx)("span",{children:y()(e).format("YYYY/MM/DD HH:mm:ss")})}},{title:"\u72c0\u614b",dataIndex:"action",render:function(e,t){return Object(h.jsxs)("span",{children:[Object(h.jsx)(T.a,{type:"link",shape:"circle",className:"inline-flex justify-center items-center mr-2",icon:Object(h.jsx)(ee.a,{}),onClick:function(){L({id:t.id,account:t.account,password:t.password,restApiTime:t.restApiTime,roleId:t.role.id}),R(!0)}}),Object(h.jsx)(T.a,{type:"link",shape:"circle",className:"inline-flex justify-center items-center",onClick:function(){return K([t.id])},icon:Object(h.jsx)(te.a,{})})]})}}],dataSource:a,pagination:{pageSize:f,total:k,onChange:function(e){m(e)},onShowSizeChange:function(e,t){x(t)}},sticky:!0})]})},"role-management":bt,"Q1-chart":W,"replay-chart":ct,case:ce,simulator:Ge,"quick-order":tt,"order-table":Ue,"price-table":He,"real-data-upload":Le,"frequent-data":_e}),ft=new(a(319).EventEmitter),xt=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=(t[0],t[1],Object(n.useState)(!!localStorage.getItem("token"))),c=Object(o.a)(a,2),r=(c[0],c[1]),i=Object(n.useState)(localStorage.getItem("token")||""),s=Object(o.a)(i,2),l=s[0],j=(s[1],Object(n.useState)(JSON.parse(localStorage.getItem("permission"))||[])),b=Object(o.a)(j,2);b[0],b[1];return Object(n.useEffect)((function(){ft.on("unauthorization",(function(e){localStorage.removeItem("token")}))}),[]),Object(n.useEffect)((function(){r(!!l),function(e){w.defaults.headers.common.token=e}(l)}),[l]),Object(h.jsx)(u.a,{children:Object(h.jsx)("div",{className:"flex ",children:Object(h.jsx)("div",{className:"flex-1 my-10 ",children:Object(h.jsxs)(d.c,{children:[Object(h.jsx)(d.a,{path:"/stock-font-end/echart-example",component:k}),["Q1-chart","replay-chart"].map((function(e){return Object(h.jsx)(d.a,{path:"/stock-font-end/".concat(e),component:pt[e]},Math.random())}))]})})})})};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(xt,{})}),document.getElementById("root"))}},[[320,1,2]]]);
//# sourceMappingURL=main.e1b53dd4.chunk.js.map